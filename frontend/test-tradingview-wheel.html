<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingView íœ  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .chart-container {
            width: 100%;
            height: 400px;
            border: 2px solid #ccc;
            position: relative;
            background: #f9f9f9;
            cursor: crosshair;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #666;
        }
        .instructions {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 4px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”„ TradingView ë§ˆìš°ìŠ¤ íœ  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸</h1>
        
        <div class="instructions">
            <h3>í…ŒìŠ¤íŠ¸ ë°©ë²•:</h3>
            <ol>
                <li><strong>ë§ˆìš°ìŠ¤ íœ </strong>: ì°¨íŠ¸ ìœ„ì—ì„œ ë§ˆìš°ìŠ¤ íœ ì„ êµ´ë ¤ë³´ì„¸ìš” (ìˆ˜í‰ ìŠ¤í¬ë¡¤)</li>
                <li><strong>Ctrl + ë§ˆìš°ìŠ¤ íœ </strong>: Ctrlí‚¤ë¥¼ ëˆ„ë¥´ê³  íœ ì„ êµ´ë ¤ë³´ì„¸ìš” (ì¤Œ ì¸/ì•„ì›ƒ)</li>
                <li><strong>í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤</strong>:
                    <ul>
                        <li>Ctrl + Plus(+): ì¤Œ ì¸</li>
                        <li>Ctrl + Minus(-): ì¤Œ ì•„ì›ƒ</li>
                        <li>Ctrl + 0: ì¤Œ ë¦¬ì…‹</li>
                    </ul>
                </li>
            </ol>
        </div>
        
        <div class="chart-container" id="testChart">
            TradingView ìŠ¤íƒ€ì¼ ì°¨íŠ¸ ì˜ì—­<br>
            ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê³  íœ ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”
        </div>
        
        <div class="status" id="statusLog">
            ìƒíƒœ: ëŒ€ê¸° ì¤‘...
        </div>
        
        <div style="margin-top: 20px;">
            <button onclick="testZoomIn()">ğŸ”+ ì¤Œ ì¸</button>
            <button onclick="testZoomOut()">ğŸ”- ì¤Œ ì•„ì›ƒ</button>
            <button onclick="testReset()">ğŸ”„ ë¦¬ì…‹</button>
        </div>
    </div>

    <script>
        let zoomLevel = 1.0;
        let scrollPosition = 0;
        const statusLog = document.getElementById('statusLog');
        const chartContainer = document.getElementById('testChart');
        
        function updateStatus(message) {
            statusLog.textContent = `ìƒíƒœ: ${message}`;
            console.log(message);
        }
        
        // TradingView ìŠ¤íƒ€ì¼ íœ  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        chartContainer.addEventListener('wheel', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            const delta = e.deltaY;
            const isCtrlPressed = e.ctrlKey || e.metaKey;
            
            if (isCtrlPressed) {
                // Zoom functionality
                const zoomFactor = delta > 0 ? 0.9 : 1.1;
                zoomLevel = Math.max(0.1, Math.min(5.0, zoomLevel * zoomFactor));
                updateStatus(`ì¤Œ ë ˆë²¨: ${(zoomLevel * 100).toFixed(0)}% (Ctrl+íœ )`);
                showZoomIndicator(zoomLevel);
            } else {
                // Scroll functionality
                scrollPosition += delta > 0 ? 30 : -30;
                scrollPosition = Math.max(0, scrollPosition);
                updateStatus(`ìŠ¤í¬ë¡¤ ìœ„ì¹˜: ${scrollPosition}px (íœ  ìŠ¤í¬ë¡¤)`);
            }
        }, { passive: false });
        
        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', function(e) {
            if (!chartContainer.matches(':hover')) return;
            
            if (e.ctrlKey || e.metaKey) {
                switch(e.code) {
                    case 'Equal':
                    case 'NumpadAdd':
                        e.preventDefault();
                        testZoomIn();
                        break;
                    case 'Minus':
                    case 'NumpadSubtract':
                        e.preventDefault();
                        testZoomOut();
                        break;
                    case 'Digit0':
                    case 'Numpad0':
                        e.preventDefault();
                        testReset();
                        break;
                }
            }
        });
        
        function testZoomIn() {
            zoomLevel = Math.min(5.0, zoomLevel * 1.1);
            updateStatus(`ì¤Œ ì¸: ${(zoomLevel * 100).toFixed(0)}%`);
            showZoomIndicator(zoomLevel);
        }
        
        function testZoomOut() {
            zoomLevel = Math.max(0.1, zoomLevel * 0.9);
            updateStatus(`ì¤Œ ì•„ì›ƒ: ${(zoomLevel * 100).toFixed(0)}%`);
            showZoomIndicator(zoomLevel);
        }
        
        function testReset() {
            zoomLevel = 1.0;
            scrollPosition = 0;
            updateStatus(`ë¦¬ì…‹ ì™„ë£Œ: ì¤Œ 100%, ìŠ¤í¬ë¡¤ 0px`);
            showZoomIndicator(1.0, 'Reset');
        }
        
        function showZoomIndicator(zoom, action = 'Zoom') {
            // Remove existing indicator
            const existing = document.querySelector('.zoom-indicator');
            if (existing) existing.remove();
            
            // Create new indicator
            const indicator = document.createElement('div');
            indicator.className = 'zoom-indicator';
            indicator.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 12px;
                font-weight: 600;
                z-index: 10000;
                pointer-events: none;
            `;
            indicator.textContent = `${action}: ${(zoom * 100).toFixed(0)}%`;
            
            document.body.appendChild(indicator);
            
            // Auto-remove
            setTimeout(() => {
                if (indicator.parentElement) {
                    indicator.remove();
                }
            }, 2000);
        }
        
        updateStatus('TradingView íœ  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì™„ë£Œ');
    </script>
</body>
</html>