<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>홈 - 주식 차트 코인판매</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📈</text></svg>">
    
    <!-- Figma Design System -->
    <link rel="stylesheet" href="css/figma-design.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- TradingView Charts -->
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>
</head>

<body>
    <!-- Main Layout Container -->
    <div class="figma-container">
        
        <!-- Header -->
        <header class="figma-header">
            <div class="header-logo">
                <i class="fas fa-chart-line text-accent-green"></i>
                <span>코인판매</span>
            </div>
            
            <div class="header-search">
                <input type="text" class="search-input" placeholder="종목 검색 (예: BTC, ETH, AAPL)" id="searchInput">
            </div>
            
            <div class="header-actions">
                <button class="btn-predict">
                    <i class="fas fa-user"></i>
                    <span>로그인</span>
                </button>
                <button class="btn-predict">
                    <i class="fas fa-chart-bar"></i>
                    <span>예측하기</span>
                </button>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="figma-sidebar">
            <div class="sidebar-logo">
                <i class="fas fa-coins"></i>
                주식 차트
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>홈</span>
                </a>
                <a href="charts.html" class="nav-item">
                    <i class="fas fa-chart-candlestick"></i>
                    <span>차트 분석</span>
                </a>
                <a href="prediction.html" class="nav-item">
                    <i class="fas fa-crystal-ball"></i>
                    <span>사용자 예측</span>
                </a>
                <a href="ranking.html" class="nav-item">
                    <i class="fas fa-trophy"></i>
                    <span>랭킹</span>
                </a>
                <a href="my-predictions.html" class="nav-item">
                    <i class="fas fa-user-chart"></i>
                    <span>내 예측</span>
                </a>
                <a href="events.html" class="nav-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>이벤트</span>
                </a>
                <a href="payment.html" class="nav-item">
                    <i class="fas fa-credit-card"></i>
                    <span>결제</span>
                </a>
                <a href="partners.html" class="nav-item">
                    <i class="fas fa-handshake"></i>
                    <span>파트너</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="figma-main">
            <!-- Chart Container -->
            <div class="chart-container">
                <div class="chart-header-info">
                    <div class="stock-info">
                        <span class="stock-symbol">BTC/USD</span>
                        <span class="stock-price" id="currentPrice">432.32</span>
                        <span class="stock-change positive" id="priceChange">+2.1%</span>
                    </div>
                    <div class="chart-controls">
                        <button class="nav-item">1분</button>
                        <button class="nav-item">5분</button>
                        <button class="nav-item active">1시간</button>
                        <button class="nav-item">1일</button>
                        <button class="nav-item">1주</button>
                    </div>
                </div>
                <div class="chart-content" id="chartContainer">
                    <!-- TradingView Chart will be inserted here -->
                </div>
            </div>

            <!-- Bottom Stats Section -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="currentPriceBottom">432.32</div>
                    <div class="stat-label">가격</div>
                    <div class="stat-sublabel">현재 비트코인 가격</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">1월</div>
                    <div class="stat-label">시간 틀</div>
                    <div class="stat-sublabel">선택된 차트 기간</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value text-success">강세</div>
                    <div class="stat-label">시장 분위기</div>
                    <div class="stat-sublabel">사용자 예측 기반</div>
                </div>
            </div>
        </main>

        <!-- Trading Panel -->
        <aside class="figma-trading-panel">
            <!-- User Prediction Section -->
            <div class="trading-section">
                <h3 class="section-title">
                    <i class="fas fa-users"></i>
                    사용자 예측
                </h3>
                <form class="trading-form" id="predictionForm">
                    <div class="form-group">
                        <label class="form-label">종목 선택</label>
                        <select class="form-select" id="symbolSelect">
                            <option value="BTCUSD">BTC/USD</option>
                            <option value="ETHUSD">ETH/USD</option>
                            <option value="AAPL">AAPL</option>
                            <option value="TSLA">TSLA</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">예측 가격</label>
                        <input type="number" class="form-input" id="predictedPrice" placeholder="예상 가격 입력" step="0.01">
                    </div>
                    <div class="form-group">
                        <label class="form-label">예측 기간</label>
                        <select class="form-select" id="timeFrame">
                            <option value="1h">1시간</option>
                            <option value="4h">4시간</option>
                            <option value="1d">1일</option>
                            <option value="1w">1주</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-predict">
                        <i class="fas fa-brain"></i>
                        예측 제출
                    </button>
                </form>
            </div>

            <!-- Recent Predictions Table -->
            <div class="trading-section">
                <h3 class="section-title">
                    <i class="fas fa-history"></i>
                    최근 예측
                </h3>
                <div class="predictions-table">
                    <div class="table-header">
                        <span>사용자</span>
                        <span>가격</span>
                        <span>시간</span>
                        <span>결과</span>
                        <span>변화</span>
                    </div>
                    <div class="table-row">
                        <div class="prediction-user">
                            <div class="user-avatar">김</div>
                            <span>김○○</span>
                        </div>
                        <span>433.24</span>
                        <span>1시간</span>
                        <span>대기</span>
                        <span class="prediction-change positive">+8.20%</span>
                    </div>
                    <div class="table-row">
                        <div class="prediction-user">
                            <div class="user-avatar">이</div>
                            <span>이○○</span>
                        </div>
                        <span>430.15</span>
                        <span>4시간</span>
                        <span>성공</span>
                        <span class="prediction-change positive">+5.12%</span>
                    </div>
                    <div class="table-row">
                        <div class="prediction-user">
                            <div class="user-avatar">박</div>
                            <span>박○○</span>
                        </div>
                        <span>435.80</span>
                        <span>1일</span>
                        <span>실패</span>
                        <span class="prediction-change negative">-2.34%</span>
                    </div>
                    <div class="table-row">
                        <div class="prediction-user">
                            <div class="user-avatar">최</div>
                            <span>최○○</span>
                        </div>
                        <span>428.90</span>
                        <span>1주</span>
                        <span>대기</span>
                        <span class="prediction-change positive">+1.85%</span>
                    </div>
                    <div class="table-row">
                        <div class="prediction-user">
                            <div class="user-avatar">정</div>
                            <span>정○○</span>
                        </div>
                        <span>440.12</span>
                        <span>1시간</span>
                        <span>성공</span>
                        <span class="prediction-change positive">+12.45%</span>
                    </div>
                </div>
            </div>

            <!-- News Feed -->
            <div class="trading-section">
                <h3 class="section-title">
                    <i class="fas fa-newspaper"></i>
                    뉴스 피드
                </h3>
                <div class="news-feed">
                    <div class="news-item">
                        <div class="news-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="news-content">
                            <div class="news-title">새로운 비트코인 예측이 등록되었습니다.</div>
                            <div class="news-meta">5분 전 - 사용자 예측</div>
                        </div>
                    </div>
                    <div class="news-item">
                        <div class="news-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="news-content">
                            <div class="news-title">주간 랭킹에서 1위를 차지했습니다!</div>
                            <div class="news-meta">15분 전 - 랭킹 업데이트</div>
                        </div>
                    </div>
                    <div class="news-item">
                        <div class="news-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div class="news-content">
                            <div class="news-title">이더리움 가격이 급등하고 있습니다.</div>
                            <div class="news-meta">30분 전 - 시장 뉴스</div>
                        </div>
                    </div>
                    <div class="news-item">
                        <div class="news-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="news-content">
                            <div class="news-title">새로운 예측 이벤트가 시작되었습니다.</div>
                            <div class="news-meta">1시간 전 - 이벤트</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- JavaScript -->
    <script>
        // Initialize Chart
        const chartContainer = document.getElementById('chartContainer');
        const chart = LightweightCharts.createChart(chartContainer, {
            width: chartContainer.clientWidth,
            height: 400,
            layout: {
                background: { type: 'solid', color: '#1a1a1a' },
                textColor: '#ffffff',
            },
            grid: {
                vertLines: { color: '#333333' },
                horzLines: { color: '#333333' },
            },
            crosshair: {
                mode: LightweightCharts.CrosshairMode.Normal,
            },
            rightPriceScale: {
                borderColor: '#485c7b',
            },
            timeScale: {
                borderColor: '#485c7b',
                timeVisible: true,
                secondsVisible: false,
            },
        });

        // Add candlestick series
        const candleSeries = chart.addCandlestickSeries({
            upColor: '#00FFA3',
            downColor: '#ff4757',
            borderDownColor: '#ff4757',
            borderUpColor: '#00FFA3',
            wickDownColor: '#ff4757',
            wickUpColor: '#00FFA3',
        });

        // Sample data
        const sampleData = [
            { time: '2023-12-01', open: 430.00, high: 435.00, low: 428.00, close: 432.32 },
            { time: '2023-12-02', open: 432.32, high: 438.50, low: 430.00, close: 436.80 },
            { time: '2023-12-03', open: 436.80, high: 442.00, low: 434.20, close: 440.15 },
            { time: '2023-12-04', open: 440.15, high: 445.30, low: 438.50, close: 443.22 },
            { time: '2023-12-05', open: 443.22, high: 448.00, low: 441.10, close: 445.67 },
        ];

        candleSeries.setData(sampleData);

        // Make chart responsive
        window.addEventListener('resize', () => {
            chart.applyOptions({ width: chartContainer.clientWidth });
        });

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toUpperCase();
            // Add search logic here
            console.log('Searching for:', searchTerm);
        });

        // Prediction form
        document.getElementById('predictionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const symbol = document.getElementById('symbolSelect').value;
            const price = document.getElementById('predictedPrice').value;
            const timeFrame = document.getElementById('timeFrame').value;
            
            if (price && symbol && timeFrame) {
                alert('예측이 제출되었습니다!\\n종목: ' + symbol + '\\n예측 가격: ' + price + '\\n기간: ' + timeFrame);
                // Add prediction submission logic here
            } else {
                alert('모든 필드를 입력해주세요.');
            }
        });

        // Update price every few seconds (simulation)
        setInterval(() => {
            const basePrice = 432.32;
            const variation = (Math.random() - 0.5) * 10;
            const newPrice = (basePrice + variation).toFixed(2);
            const change = ((variation / basePrice) * 100).toFixed(1);
            
            document.getElementById('currentPrice').textContent = newPrice;
            document.getElementById('currentPriceBottom').textContent = newPrice;
            
            const changeElement = document.getElementById('priceChange');
            changeElement.textContent = (change >= 0 ? '+' : '') + change + '%';
            changeElement.className = 'stock-change ' + (change >= 0 ? 'positive' : 'negative');
        }, 5000);
    </script>
</body>
</html>