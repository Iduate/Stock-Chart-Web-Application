<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>구독 - StockChart</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📈</text></svg>">

    <!-- Tailwind CSS with TradingView Color Scheme -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tv': {
                            'darker': '#0d1421',
                            'dark': '#131722',
                            'card': '#1e222d',
                            'light': '#2a2e39',
                            'border': '#363a45',
                            'blue': '#2962ff',
                            'green': '#26a69a',
                            'red': '#ef5350',
                            'text': '#d1d4dc',
                            'text-secondary': '#868993'
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'Noto Sans KR', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body class="bg-tv-darker text-tv-text font-sans">
    <!-- Navigation Bar -->
    <nav class="bg-tv-dark border-b border-tv-border sticky top-0 z-40 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <a href="home.html"
                        class="flex items-center space-x-2 text-tv-text hover:text-tv-blue transition-colors">
                        <div class="w-8 h-8 bg-tv-blue rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-line text-white text-sm"></i>
                        </div>
                        <span class="text-xl font-bold">StockChart</span>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden lg:flex items-center space-x-1">
                    <a href="home.html"
                        class="px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">홈</a>
                    <a href="charts.html"
                        class="px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">차트
                        보드</a>
                    <a href="prediction.html"
                        class="px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">예측하기</a>
                    <a href="my-predictions.html"
                        class="px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">내
                        예측</a>
                    <a href="ranking.html"
                        class="px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">랭킹</a>
                    <a href="events.html"
                        class="px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">이벤트</a>
                    <a href="subscription.html"
                        class="px-4 py-2 rounded-lg text-tv-text bg-tv-blue bg-opacity-20 border border-tv-blue">구독</a>
                    <button onclick="showLoginModal()"
                        class="ml-4 bg-tv-blue hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-colors">로그인</button>
                </div>

                <!-- Mobile menu button -->
                <div class="lg:hidden">
                    <button onclick="toggleMobileMenu()" class="text-tv-text hover:text-tv-blue p-2">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div id="mobileMenu" class="lg:hidden hidden bg-tv-card border-t border-tv-border">
            <div class="px-4 py-2 space-y-1">
                <a href="home.html"
                    class="block px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">홈</a>
                <a href="charts.html"
                    class="block px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">차트
                    보드</a>
                <a href="prediction.html"
                    class="block px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">예측하기</a>
                <a href="my-predictions.html"
                    class="block px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">내
                    예측</a>
                <a href="ranking.html"
                    class="block px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">랭킹</a>
                <a href="events.html"
                    class="block px-4 py-2 rounded-lg text-tv-text-secondary hover:text-tv-text hover:bg-tv-light transition-all duration-200">이벤트</a>
                <a href="subscription.html"
                    class="block px-4 py-2 rounded-lg text-tv-text bg-tv-blue bg-opacity-20 border border-tv-blue">구독</a>
                <button onclick="showLoginModal()"
                    class="block w-full text-left px-4 py-2 bg-tv-blue hover:bg-blue-600 text-white rounded-lg font-semibold transition-colors mt-2">로그인</button>
            </div>
        </div>
    </nav>

    <!-- Subscription Section -->
    <section class="py-16 bg-tv-darker min-h-screen">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Page Header -->
            <div class="text-center mb-16">
                <div class="flex items-center justify-center space-x-3 mb-6">
                    <i class="fas fa-crown text-tv-blue text-4xl"></i>
                    <h1 class="text-4xl lg:text-5xl font-bold text-tv-text">프리미엄 구독</h1>
                </div>
                <p class="text-xl text-tv-text-secondary max-w-3xl mx-auto leading-relaxed">
                    전문가 수준의 분석 도구와 고급 기능으로 투자 성과를 극대화하세요
                </p>
            </div>

            <!-- Pricing Plans -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16">
                <!-- Basic Plan -->
                <div class="bg-tv-card border border-tv-border rounded-xl p-8 relative">
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-tv-text mb-2">베이직</h3>
                        <p class="text-tv-text-secondary mb-6">시작하는 투자자를 위한</p>
                        <div class="mb-8">
                            <span class="text-4xl font-bold text-tv-text">무료</span>
                            <span class="text-tv-text-secondary">/월</span>
                        </div>
                    </div>

                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text-secondary">월 10개 예측</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text-secondary">기본 차트 분석</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text-secondary">커뮤니티 액세스</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-times text-tv-red"></i>
                            <span class="text-tv-text-secondary">AI 분석 도구</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-times text-tv-red"></i>
                            <span class="text-tv-text-secondary">실시간 알림</span>
                        </li>
                    </ul>

                    <button
                        class="w-full bg-tv-light hover:bg-tv-border text-tv-text py-3 rounded-lg font-semibold transition-colors">
                        현재 플랜
                    </button>
                </div>

                <!-- Pro Plan (Most Popular) -->
                <div class="bg-tv-card border-2 border-tv-blue rounded-xl p-8 relative transform scale-105">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                        <span class="bg-tv-blue text-white px-6 py-2 rounded-full text-sm font-semibold">가장 인기</span>
                    </div>

                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-tv-text mb-2">프로</h3>
                        <p class="text-tv-text-secondary mb-6">진지한 투자자를 위한</p>
                        <div class="mb-8">
                            <span class="text-4xl font-bold text-tv-blue">₩29,000</span>
                            <span class="text-tv-text-secondary">/월</span>
                        </div>
                    </div>

                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">무제한 예측</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">고급 차트 분석</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">AI 분석 도구</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">실시간 알림</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">우선 고객 지원</span>
                        </li>
                    </ul>

                    <button
                        class="w-full bg-tv-blue hover:bg-blue-600 text-white py-3 rounded-lg font-semibold transition-colors">
                        프로 시작하기
                    </button>
                </div>

                <!-- Enterprise Plan -->
                <div class="bg-tv-card border border-tv-border rounded-xl p-8 relative">
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-tv-text mb-2">엔터프라이즈</h3>
                        <p class="text-tv-text-secondary mb-6">기관 투자자를 위한</p>
                        <div class="mb-8">
                            <span class="text-4xl font-bold text-tv-text">₩99,000</span>
                            <span class="text-tv-text-secondary">/월</span>
                        </div>
                    </div>

                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">프로의 모든 기능</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">API 액세스</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">맞춤형 대시보드</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">전담 계정 매니저</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <i class="fas fa-check text-tv-green"></i>
                            <span class="text-tv-text">24/7 프리미엄 지원</span>
                        </li>
                    </ul>

                    <button
                        class="w-full bg-tv-green hover:bg-green-600 text-white py-3 rounded-lg font-semibold transition-colors">
                        문의하기
                    </button>
                </div>
            </div>

            <!-- Features Comparison -->
            <div class="bg-tv-card border border-tv-border rounded-xl overflow-hidden mb-16">
                <div class="p-6 border-b border-tv-border">
                    <h3 class="text-2xl font-bold text-tv-text text-center">기능 비교</h3>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-tv-light">
                            <tr>
                                <th class="text-left p-4 text-tv-text font-semibold">기능</th>
                                <th class="text-center p-4 text-tv-text font-semibold">베이직</th>
                                <th class="text-center p-4 text-tv-blue font-semibold">프로</th>
                                <th class="text-center p-4 text-tv-green font-semibold">엔터프라이즈</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-tv-border">
                            <tr>
                                <td class="p-4 text-tv-text">월간 예측 수</td>
                                <td class="p-4 text-center text-tv-text-secondary">10개</td>
                                <td class="p-4 text-center text-tv-blue">무제한</td>
                                <td class="p-4 text-center text-tv-green">무제한</td>
                            </tr>
                            <tr class="bg-tv-light bg-opacity-50">
                                <td class="p-4 text-tv-text">AI 분석 도구</td>
                                <td class="p-4 text-center"><i class="fas fa-times text-tv-red"></i></td>
                                <td class="p-4 text-center"><i class="fas fa-check text-tv-green"></i></td>
                                <td class="p-4 text-center"><i class="fas fa-check text-tv-green"></i></td>
                            </tr>
                            <tr>
                                <td class="p-4 text-tv-text">실시간 알림</td>
                                <td class="p-4 text-center"><i class="fas fa-times text-tv-red"></i></td>
                                <td class="p-4 text-center"><i class="fas fa-check text-tv-green"></i></td>
                                <td class="p-4 text-center"><i class="fas fa-check text-tv-green"></i></td>
                            </tr>
                            <tr class="bg-tv-light bg-opacity-50">
                                <td class="p-4 text-tv-text">API 액세스</td>
                                <td class="p-4 text-center"><i class="fas fa-times text-tv-red"></i></td>
                                <td class="p-4 text-center"><i class="fas fa-times text-tv-red"></i></td>
                                <td class="p-4 text-center"><i class="fas fa-check text-tv-green"></i></td>
                            </tr>
                            <tr>
                                <td class="p-4 text-tv-text">고객 지원</td>
                                <td class="p-4 text-center text-tv-text-secondary">이메일</td>
                                <td class="p-4 text-center text-tv-blue">우선 지원</td>
                                <td class="p-4 text-center text-tv-green">24/7 전담</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- FAQ Section -->
            <div class="max-w-4xl mx-auto">
                <h3 class="text-3xl font-bold text-tv-text text-center mb-12">자주 묻는 질문</h3>

                <div class="space-y-4">
                    <div class="bg-tv-card border border-tv-border rounded-xl">
                        <button
                            class="w-full text-left p-6 flex items-center justify-between hover:bg-tv-light transition-colors"
                            onclick="toggleFAQ(1)">
                            <span class="text-lg font-semibold text-tv-text">언제든지 취소할 수 있나요?</span>
                            <i class="fas fa-chevron-down text-tv-text-secondary" id="faq-icon-1"></i>
                        </button>
                        <div class="hidden p-6 pt-0 border-t border-tv-border" id="faq-content-1">
                            <p class="text-tv-text-secondary">네, 언제든지 구독을 취소할 수 있습니다. 취소 시 현재 결제 기간이 끝날 때까지 서비스를 이용할 수
                                있습니다.</p>
                        </div>
                    </div>

                    <div class="bg-tv-card border border-tv-border rounded-xl">
                        <button
                            class="w-full text-left p-6 flex items-center justify-between hover:bg-tv-light transition-colors"
                            onclick="toggleFAQ(2)">
                            <span class="text-lg font-semibold text-tv-text">무료 체험 기간이 있나요?</span>
                            <i class="fas fa-chevron-down text-tv-text-secondary" id="faq-icon-2"></i>
                        </button>
                        <div class="hidden p-6 pt-0 border-t border-tv-border" id="faq-content-2">
                            <p class="text-tv-text-secondary">프로 플랜은 14일 무료 체험을 제공합니다. 체험 기간 동안 모든 기능을 제한 없이 사용하실 수
                                있습니다.</p>
                        </div>
                    </div>

                    <div class="bg-tv-card border border-tv-border rounded-xl">
                        <button
                            class="w-full text-left p-6 flex items-center justify-between hover:bg-tv-light transition-colors"
                            onclick="toggleFAQ(3)">
                            <span class="text-lg font-semibold text-tv-text">결제 방법은 무엇인가요?</span>
                            <i class="fas fa-chevron-down text-tv-text-secondary" id="faq-icon-3"></i>
                        </button>
                        <div class="hidden p-6 pt-0 border-t border-tv-border" id="faq-content-3">
                            <p class="text-tv-text-secondary">신용카드, 체크카드, PayPal, 그리고 암호화폐 결제를 지원합니다. 모든 결제는 안전하게
                                암호화됩니다.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-tv-darker border-t border-tv-border">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="col-span-1 md:col-span-2 lg:col-span-1">
                    <div class="flex items-center space-x-2 mb-4">
                        <div class="w-8 h-8 bg-tv-blue rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-line text-white text-sm"></i>
                        </div>
                        <h3 class="text-xl font-bold text-tv-text">StockChart</h3>
                    </div>
                    <p class="text-tv-text-secondary mb-6 leading-relaxed">미래의 주식 가격을 예측하고 공유하는 프리미엄 플랫폼</p>
                </div>
                <div>
                    <h4 class="font-semibold text-tv-text mb-4">서비스</h4>
                    <ul class="space-y-3">
                        <li><a href="charts.html" class="text-tv-text-secondary hover:text-tv-blue transition-colors">차트
                                보드</a></li>
                        <li><a href="prediction.html"
                                class="text-tv-text-secondary hover:text-tv-blue transition-colors">예측하기</a></li>
                        <li><a href="my-predictions.html"
                                class="text-tv-text-secondary hover:text-tv-blue transition-colors">내 예측</a></li>
                        <li><a href="ranking.html"
                                class="text-tv-text-secondary hover:text-tv-blue transition-colors">랭킹</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-tv-border mt-12 pt-8 text-center text-tv-text-secondary">
                <p>&copy; 2025 StockChart. 모든 권리 보유.</p>
            </div>
        </div>
    </footer>

    <script>
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        }

        function toggleFAQ(id) {
            const content = document.getElementById(`faq-content-${id}`);
            const icon = document.getElementById(`faq-icon-${id}`);

            content.classList.toggle('hidden');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
        }
    </script>
</body>

</html>
}

.page-header h1 {
font-size: 3.5rem;
margin-bottom: 20px;
color: var(--tv-text-primary);
text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
background: linear-gradient(135deg, var(--tv-bright-blue) 0%, var(--tv-green) 100%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.page-header p {
font-size: 1.3rem;
opacity: 0.8;
margin-bottom: 30px;
color: var(--tv-text-secondary);
}

.header-highlight {
display: flex;
justify-content: center;
gap: 20px;
flex-wrap: wrap;
}

.highlight-badge {
background: var(--tv-bg-card);
padding: 8px 16px;
border-radius: 12px;
backdrop-filter: blur(10px);
border: 1px solid var(--tv-border-light);
font-weight: 600;
color: var(--tv-text-primary);
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.highlight-text {
color: var(--tv-text-secondary);
font-size: 0.9rem;
align-self: center;
}

.free-access-alert {
background: var(--tv-bg-card);
border: 1px solid var(--tv-red);
color: var(--tv-text-primary);
padding: 25px;
border-radius: 12px;
margin-bottom: 40px;
text-align: center;
box-shadow: 0 8px 24px rgba(239, 83, 80, 0.2);
position: relative;
overflow: hidden;
}

.free-access-alert::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 3px;
background: linear-gradient(90deg, var(--tv-red), var(--tv-bright-blue));
}

.free-access-alert h3 {
margin-bottom: 15px;
font-size: 1.5rem;
color: var(--tv-red);
}

.access-counter {
font-weight: bold;
background: var(--tv-bright-blue);
color: white;
padding: 4px 12px;
border-radius: 8px;
font-size: 0.9rem;
}

.limit-badge {
background: var(--tv-bg-hover);
color: var(--tv-text-primary);
padding: 4px 12px;
border-radius: 8px;
font-weight: bold;
margin: 0 5px;
border: 1px solid var(--tv-border-light);
}

.btn-upgrade {
background: var(--tv-bright-blue) !important;
color: white !important;
border: none !important;
padding: 12px 24px !important;
border-radius: 8px !important;
font-weight: 600 !important;
margin-top: 15px !important;
transition: all 0.3s ease !important;
box-shadow: 0 4px 12px rgba(41, 98, 255, 0.3) !important;
}

.btn-upgrade:hover {
background: var(--tv-blue-hover) !important;
transform: translateY(-2px);
box-shadow: 0 8px 24px rgba(41, 98, 255, 0.4) !important;
}

.pricing-comparison {
text-align: center;
margin-bottom: 50px;
}

.comparison-toggle {
display: inline-flex;
background: var(--tv-bg-card);
border-radius: 8px;
padding: 4px;
border: 1px solid var(--tv-border-light);
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.toggle-btn {
padding: 10px 20px;
border: none;
background: transparent;
color: var(--tv-text-secondary);
cursor: pointer;
border-radius: 6px;
transition: all 0.3s ease;
font-weight: 500;
}

.toggle-btn.active {
background: var(--tv-bright-blue);
color: white;
box-shadow: 0 2px 8px rgba(41, 98, 255, 0.3);
}

.discount {
background: var(--tv-green);
color: white;
font-size: 0.8rem;
padding: 2px 6px;
border-radius: 4px;
margin-left: 5px;
font-weight: 600;
}

.pricing-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 30px;
max-width: 1200px;
margin: 0 auto;
}

.pricing-card {
background: var(--tv-bg-card);
border: 1px solid var(--tv-border-light);
border-radius: 12px;
padding: 40px 30px;
text-align: center;
position: relative;
transition: all 0.3s ease;
box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.pricing-card:hover {
transform: translateY(-8px);
box-shadow: 0 16px 32px rgba(0, 0, 0, 0.4);
border-color: var(--tv-bright-blue);
}

.pricing-card.premium {
border: 2px solid var(--tv-bright-blue);
transform: scale(1.05);
background: linear-gradient(135deg, var(--tv-bg-card) 0%, rgba(41, 98, 255, 0.05) 100%);
}

.pricing-card.premium::before {
content: "가장 인기";
position: absolute;
top: -12px;
left: 50%;
transform: translateX(-50%);
background: var(--tv-bright-blue);
color: white;
padding: 6px 16px;
border-radius: 16px;
font-size: 0.85rem;
font-weight: 600;
box-shadow: 0 4px 12px rgba(41, 98, 255, 0.4);
}

.plan-header {
margin-bottom: 30px;
}

.plan-icon {
font-size: 3rem;
margin-bottom: 20px;
}

.plan-header h3 {
font-size: 1.8rem;
color: var(--tv-text-primary);
margin-bottom: 10px;
font-weight: 600;
}

.plan-header p {
color: var(--tv-text-secondary);
font-size: 1rem;
}

.plan-pricing {
margin-bottom: 30px;
}

.price {
font-size: 3rem;
font-weight: 700;
color: var(--tv-text-primary);
background: linear-gradient(135deg, var(--tv-bright-blue), var(--tv-green));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.period {
color: var(--tv-text-secondary);
font-size: 1rem;
}

.plan-features {
margin-bottom: 30px;
text-align: left;
}

.feature {
display: flex;
align-items: center;
margin-bottom: 15px;
padding: 8px 0;
}

.feature i {
width: 20px;
margin-right: 15px;
color: var(--tv-green);
font-weight: bold;
}

.feature.not-included i {
color: var(--tv-red);
}

.feature.not-included span {
color: var(--tv-text-disabled);
text-decoration: line-through;
}

.feature span {
color: var(--tv-text-primary);
font-size: 0.95rem;
}

.btn-primary {
width: 100%;
padding: 15px;
font-size: 1.1rem;
font-weight: 600;
border-radius: 8px;
background: var(--tv-bright-blue);
border: none;
color: white;
transition: all 0.3s ease;
cursor: pointer;
margin-bottom: 15px;
box-shadow: 0 4px 12px rgba(41, 98, 255, 0.3);
}

.btn-primary:hover {
background: var(--tv-blue-hover);
transform: translateY(-2px);
box-shadow: 0 8px 24px rgba(41, 98, 255, 0.4);
}

.btn-outline {
background: transparent;
border: 2px solid var(--tv-bright-blue);
color: var(--tv-bright-blue);
}

.btn-outline:hover {
background: var(--tv-bright-blue);
color: white;
}

.paypal-button-container {
margin-top: 15px;
min-height: 45px;
}

/* Error message styling */
.payment-error {
background: var(--tv-bg-card);
color: var(--tv-red);
padding: 15px;
border-radius: 8px;
margin: 20px 0;
border: 1px solid var(--tv-red);
display: none;
box-shadow: 0 4px 12px rgba(239, 83, 80, 0.2);
}

.payment-error.show {
display: block;
animation: slideIn 0.3s ease;
}

@keyframes slideIn {
from {
opacity: 0;
transform: translateY(-10px);
}

to {
opacity: 1;
transform: translateY(0);
}
}

@keyframes pulse {
0% {
transform: scale(1);
}

50% {
transform: scale(1.02);
}

100% {
transform: scale(1);
}
}

.hidden {
display: none !important;
}

/* Modal improvements */
.modal {
backdrop-filter: blur(10px);
}

.modal-content {
border-radius: 15px;
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
}

@media (max-width: 768px) {
.page-header h1 {
font-size: 2.5rem;
}

.pricing-grid {
grid-template-columns: 1fr;
gap: 20px;
}

.pricing-card.premium {
transform: none;
}

.header-highlight {
flex-direction: column;
gap: 10px;
}
}
</style>
</head>

<body>
    <!-- 네비게이션 바 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="home.html"><i class="fas fa-chart-line"></i> StockChart</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="home.html" class="nav-link">홈</a>
                </li>
                <li class="nav-item">
                    <a href="charts.html" class="nav-link">차트 보드</a>
                </li>
                <li class="nav-item">
                    <a href="prediction.html" class="nav-link">예측하기</a>
                </li>
                <li class="nav-item">
                    <a href="my-predictions.html" class="nav-link">내 예측</a>
                </li>
                <li class="nav-item">
                    <a href="ranking.html" class="nav-link">랭킹</a>
                </li>
                <li class="nav-item">
                    <a href="events.html" class="nav-link">이벤트</a>
                </li>
                <li class="nav-item">
                    <a href="subscription.html" class="nav-link active">구독</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link login-btn" onclick="showLoginModal()">로그인</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- 구독 섹션 -->
    <section id="subscription" class="section subscription-section">
        <div class="container">
            <div class="page-header text-center">
                <h1>💎 프리미엄 구독</h1>
                <p>더 정확한 예측과 고급 기능으로 트레이딩을 한 단계 업그레이드하세요</p>
                <div class="header-highlight">
                    <span class="highlight-badge">🎉 7일 무료 체험</span>
                    <span class="highlight-text">언제든 취소 가능</span>
                </div>
            </div>

            <!-- Free access limit alert -->
            <div id="freeAccessAlert" class="free-access-alert pulse" style="display:none;">
                <h3>⚠️ 무료 접근 횟수 제한에 도달했습니다</h3>
                <p>무료 사용자는 프리미엄 콘텐츠에 <span class="access-counter">3</span>번의 접근만 가능합니다.</p>
                <p>접근 횟수: <span id="accessCount" class="limit-badge">3/3</span></p>
                <p>무제한 접근과 추가 기능을 사용하시려면 프리미엄 또는 프로 요금제를 구독하세요.</p>
                <button class="btn btn-upgrade pulse">지금 업그레이드</button>
            </div>

            <div class="pricing-comparison">
                <div class="comparison-toggle">
                    <button class="toggle-btn active" data-period="monthly">월간</button>
                    <button class="toggle-btn" data-period="yearly">연간 <span class="discount">20% 할인</span></button>
                </div>
            </div>

            <div class="pricing-grid">
                <!-- Free Plan -->
                <div class="pricing-card free">
                    <div class="plan-header">
                        <div class="plan-icon">🌟</div>
                        <h3>무료 플랜</h3>
                        <p>기본 기능으로 시작하기</p>
                    </div>
                    <div class="plan-pricing">
                        <span class="price">₩0</span>
                        <span class="period">/월</span>
                    </div>
                    <div class="plan-features">
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>월 10개 예측 생성</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>기본 차트 분석</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>커뮤니티 랭킹 참여</span>
                        </div>
                        <div class="feature limited">
                            <i class="fas fa-times"></i>
                            <span>실시간 알림</span>
                        </div>
                        <div class="feature limited">
                            <i class="fas fa-times"></i>
                            <span>고급 기술적 분석</span>
                        </div>
                        <div class="feature limited">
                            <i class="fas fa-times"></i>
                            <span>API 접근</span>
                        </div>
                    </div>
                    <button class="btn btn-outline btn-lg">현재 플랜</button>
                </div>

                <!-- Pro Plan -->
                <div class="pricing-card pro premium">
                    <div class="plan-header">
                        <div class="plan-icon">🚀</div>
                        <h3>프로 플랜</h3>
                        <p>전문 트레이더를 위한 고급 기능</p>
                    </div>
                    <div class="plan-pricing">
                        <span class="price monthly-price">₩29,900</span>
                        <span class="price yearly-price hidden">₩23,920</span>
                        <span class="period">/월</span>
                    </div>
                    <div class="plan-features">
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>무제한 예측 생성</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>고급 차트 분석 도구</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>실시간 가격 알림</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>포트폴리오 추적</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>우선 고객 지원</span>
                        </div>
                        <div class="feature not-included">
                            <i class="fas fa-times"></i>
                            <span>API 접근</span>
                        </div>
                    </div>
                    <div class="payment-error" id="paymentError">
                        결제 처리 중 오류가 발생했습니다. 다시 시도해주세요.
                    </div>
                    <button class="btn btn-primary btn-lg" onclick="startFreeTrial('pro')">7일 무료 체험</button>
                    <div class="paypal-button-container" data-plan-id="2" data-plan-price="29900" data-currency="KRW">
                    </div>
                </div>

                <!-- Enterprise Plan -->
                <div class="pricing-card enterprise">
                    <div class="plan-header">
                        <div class="plan-icon">👑</div>
                        <h3>엔터프라이즈</h3>
                        <p>기관 투자자와 대규모 팀을 위한 솔루션</p>
                    </div>
                    <div class="plan-pricing">
                        <span class="price monthly-price">₩99,900</span>
                        <span class="price yearly-price hidden">₩79,920</span>
                        <span class="period">/월</span>
                    </div>
                    <div class="plan-features">
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>모든 프로 기능</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>API 전체 접근 권한</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>사용자 정의 대시보드</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>전담 계정 매니저</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>24/7 프리미엄 지원</span>
                        </div>
                        <div class="feature included">
                            <i class="fas fa-check"></i>
                            <span>화이트라벨 솔루션</span>
                        </div>
                    </div>
                    <button class="btn btn-enterprise btn-lg">문의하기</button>
                </div>
            </div>

            <div class="features-showcase">
                <h3>🎯 프리미엄 기능 미리보기</h3>
                <div class="showcase-grid">
                    <div class="showcase-item">
                        <div class="showcase-image">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 200'%3E%3Cdefs%3E%3ClinearGradient id='grad1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%236366f1;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%238b5cf6;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='300' height='200' fill='url(%23grad1)'/%3E%3Ctext x='150' y='100' text-anchor='middle' fill='white' font-size='24' font-weight='bold'%3E📊%3C/text%3E%3Ctext x='150' y='130' text-anchor='middle' fill='white' font-size='14'%3E고급 분석%3C/text%3E%3C/svg%3E"
                                alt="Advanced Analytics">
                        </div>
                        <div class="showcase-content">
                            <h4>🔍 고급 기술적 분석</h4>
                            <p>50+ 기술적 지표와 패턴 인식으로 더 정확한 분석을 제공합니다.</p>
                            <ul>
                                <li>볼린저 밴드, RSI, MACD 등</li>
                                <li>자동 패턴 감지</li>
                                <li>사용자 정의 지표</li>
                            </ul>
                        </div>
                    </div>

                    <div class="showcase-item">
                        <div class="showcase-image">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 200'%3E%3Cdefs%3E%3ClinearGradient id='grad2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2310b981;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%2306d6a0;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='300' height='200' fill='url(%23grad2)'/%3E%3Ctext x='150' y='100' text-anchor='middle' fill='white' font-size='24' font-weight='bold'%3E🔔%3C/text%3E%3Ctext x='150' y='130' text-anchor='middle' fill='white' font-size='14'%3E실시간 알림%3C/text%3E%3C/svg%3E"
                                alt="Real-time Alerts">
                        </div>
                        <div class="showcase-content">
                            <h4>⚡ 실시간 알림 시스템</h4>
                            <p>중요한 가격 변동과 예측 결과를 즉시 알려드립니다.</p>
                            <ul>
                                <li>가격 임계값 알림</li>
                                <li>예측 달성 알림</li>
                                <li>시장 급변 알림</li>
                            </ul>
                        </div>
                    </div>

                    <div class="showcase-item">
                        <div class="showcase-image">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 200'%3E%3Cdefs%3E%3ClinearGradient id='grad3' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23f59e0b;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23f97316;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='300' height='200' fill='url(%23grad3)'/%3E%3Ctext x='150' y='100' text-anchor='middle' fill='white' font-size='24' font-weight='bold'%3E📈%3C/text%3E%3Ctext x='150' y='130' text-anchor='middle' fill='white' font-size='14'%3E포트폴리오%3C/text%3E%3C/svg%3E"
                                alt="Portfolio Tracking">
                        </div>
                        <div class="showcase-content">
                            <h4>📊 포트폴리오 추적</h4>
                            <p>모든 투자를 한눈에 보고 성과를 분석하세요.</p>
                            <ul>
                                <li>실시간 손익 계산</li>
                                <li>자산 배분 분석</li>
                                <li>성과 리포트</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="testimonials-section">
                <h3>💬 사용자 후기</h3>
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <p>"프리미엄 기능 덕분에 예측 정확도가 30% 향상되었습니다. 특히 실시간 알림이 매우 유용해요!"</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%236366f1'/%3E%3Ctext x='20' y='26' text-anchor='middle' fill='white' font-size='14' font-weight='bold'%3EK%3C/text%3E%3C/svg%3E"
                                alt="User">
                            <div class="author-info">
                                <h4>김트레이더</h4>
                                <p>프로 플랜 사용자</p>
                            </div>
                        </div>
                        <div class="rating">
                            <span>⭐⭐⭐⭐⭐</span>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <p>"API 접근으로 자동 트레이딩 시스템을 구축했습니다. 엔터프라이즈 플랜의 지원도 훌륭해요."</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%2310b981'/%3E%3Ctext x='20' y='26' text-anchor='middle' fill='white' font-size='14' font-weight='bold'%3EL%3C/text%3E%3C/svg%3E"
                                alt="User">
                            <div class="author-info">
                                <h4>이투자</h4>
                                <p>엔터프라이즈 사용자</p>
                            </div>
                        </div>
                        <div class="rating">
                            <span>⭐⭐⭐⭐⭐</span>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <p>"7일 무료 체험으로 시작했는데, 첫 주만에 효과를 느꼈습니다. 바로 구독했어요!"</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23f59e0b'/%3E%3Ctext x='20' y='26' text-anchor='middle' fill='white' font-size='14' font-weight='bold'%3EP%3C/text%3E%3C/svg%3E"
                                alt="User">
                            <div class="author-info">
                                <h4>박초보</h4>
                                <p>프로 플랜 사용자</p>
                            </div>
                        </div>
                        <div class="rating">
                            <span>⭐⭐⭐⭐⭐</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="faq-section">
                <h3>❓자주 묻는 질문</h3>
                <div class="faq-grid">
                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>언제든지 취소할 수 있나요?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>네, 언제든지 취소하실 수 있습니다. 취소 후에도 현재 결제 기간이 끝날 때까지는 프리미엄 기능을 이용하실 수 있습니다.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>무료 체험 기간 동안 요금이 부과되나요?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>7일 무료 체험 기간 동안에는 어떤 요금도 부과되지 않습니다. 체험 기간이 끝나기 전에 취소하시면 요금이 청구되지 않습니다.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>플랜을 언제든지 변경할 수 있나요?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>네, 언제든지 플랜을 업그레이드하거나 다운그레이드하실 수 있습니다. 변경 사항은 즉시 적용됩니다.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <h4>API 접근 권한은 어떤 플랜에서 제공되나요?</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p>API 접근 권한은 엔터프라이즈 플랜에서만 제공됩니다. 개발자 문서와 함께 전체 API에 접근하실 수 있습니다.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="cta-section">
                <div class="cta-content">
                    <h3>🚀 지금 시작하세요!</h3>
                    <p>7일 무료 체험으로 프리미엄 기능을 경험해보세요</p>
                    <div class="cta-buttons">
                        <button class="btn btn-primary btn-xl">무료 체험 시작</button>
                        <button class="btn btn-outline btn-xl">플랜 비교하기</button>
                    </div>
                    <p class="cta-note">💳 신용카드 필요 없음 • ⏰ 언제든 취소 가능</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 푸터 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>StockChart</h4>
                    <p>미래의 주식 가격을 예측하고 공유하는 플랫폼</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>서비스</h4>
                    <ul>
                        <li><a href="charts.html">차트 보드</a></li>
                        <li><a href="prediction.html">예측하기</a></li>
                        <li><a href="my-predictions.html">내 예측</a></li>
                        <li><a href="ranking.html">랭킹</a></li>
                        <li><a href="events.html">이벤트</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>고객지원</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">문의하기</a></li>
                        <li><a href="#">이용약관</a></li>
                        <li><a href="#">개인정보처리방침</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>연락처</h4>
                    <p>이메일: support@stockchart.kr</p>
                    <p>전화: 02-1234-5678</p>
                    <p>주소: 서울시 강남구 테헤란로 123</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 StockChart. 모든 권리 보유.</p>
            </div>
        </div>
    </footer>

    <!-- 로그인 모달 -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideLoginModal()">&times;</span>
            <h2>로그인</h2>
            <form id="loginForm">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="이메일" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="비밀번호" required>
                </div>
                <button type="submit" class="btn btn-primary btn-full">로그인</button>
            </form>
            <div class="social-login">
                <p>또는 소셜 계정으로 로그인</p>
                <button class="btn btn-google" onclick="loginWithGoogle()">
                    <i class="fab fa-google"></i> Google로 로그인
                </button>
                <button class="btn btn-apple" onclick="loginWithApple()">
                    <i class="fab fa-apple"></i> Apple로 로그인
                </button>
            </div>
            <p class="modal-footer">
                계정이 없으신가요? <a href="#" onclick="showSignupModal()">회원가입</a>
            </p>
        </div>
    </div>

    <!-- 회원가입 모달 -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideSignupModal()">&times;</span>
            <h2>회원가입</h2>
            <form id="signupForm">
                <div class="form-group">
                    <input type="text" id="signupUsername" placeholder="사용자명" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signupEmail" placeholder="이메일" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signupPassword" placeholder="비밀번호" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signupPasswordConfirm" placeholder="비밀번호 확인" required>
                </div>
                <div class="form-group">
                    <input type="text" id="referralCode" placeholder="추천인 코드 (선택사항)">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="agreeTerms" required>
                        이용약관 및 개인정보처리방침에 동의합니다.
                    </label>
                </div>
                <button type="submit" class="btn btn-primary btn-full">회원가입</button>
            </form>
            <div class="social-login">
                <p>또는 소셜 계정으로 가입</p>
                <button class="btn btn-google" onclick="signupWithGoogle()">
                    <i class="fab fa-google"></i> Google로 가입
                </button>
                <button class="btn btn-apple" onclick="signupWithApple()">
                    <i class="fab fa-apple"></i> Apple로 가입
                </button>
            </div>
            <p class="modal-footer">
                이미 계정이 있으신가요? <a href="#" onclick="showLoginModal()">로그인</a>
            </p>
        </div>
    </div>

    <script src="js/notification.js?v=1.0"></script>
    <script src="js/stock-chart-app.js?v=1.0"></script>
    <script src="js/app.js?v=1.5"></script>
    <script src="js/access-limit.js?v=1.0"></script>
    <script src="js/google-auth.js?v=1.0"></script>
    <script src="js/paypal-payment.js?v=1.0"></script>

    <script>
        // Subscription page specific functionality
        class SubscriptionManager {
            constructor() {
                this.init();
            }

            init() {
                this.checkAccessLimit();
                this.setupPricing();
                this.setupPaymentErrorHandling();
            }

            checkAccessLimit() {
                // Check URL parameters for payment required flag
                const urlParams = new URLSearchParams(window.location.search);
                const paymentRequired = urlParams.get('payment_required') === 'true';
                const visitCount = urlParams.get('visit_count') || localStorage.getItem('freeAccessCount') || '0';

                if (paymentRequired || parseInt(visitCount) >= 3) {
                    this.showAccessLimitAlert(visitCount);
                }
            }

            showAccessLimitAlert(visitCount) {
                const alert = document.getElementById('freeAccessAlert');
                if (alert) {
                    alert.style.display = 'block';

                    const accessCount = document.getElementById('accessCount');
                    if (accessCount) {
                        accessCount.textContent = `${visitCount}/3`;
                    }

                    // Add click handler for upgrade button
                    const upgradeBtn = alert.querySelector('.btn-upgrade');
                    if (upgradeBtn) {
                        upgradeBtn.onclick = () => {
                            document.querySelector('.pricing-card.premium').scrollIntoView({
                                behavior: 'smooth'
                            });
                        };
                    }
                }
            }

            setupPricing() {
                // Setup monthly/yearly toggle
                const toggleBtns = document.querySelectorAll('.toggle-btn');
                toggleBtns.forEach(btn => {
                    btn.onclick = () => this.togglePricing(btn.dataset.period);
                });
            }

            togglePricing(period) {
                // Update toggle buttons
                document.querySelectorAll('.toggle-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.period === period);
                });

                // Update prices
                const monthlyPrices = document.querySelectorAll('.monthly-price');
                const yearlyPrices = document.querySelectorAll('.yearly-price');

                if (period === 'monthly') {
                    monthlyPrices.forEach(el => el.classList.remove('hidden'));
                    yearlyPrices.forEach(el => el.classList.add('hidden'));
                } else {
                    monthlyPrices.forEach(el => el.classList.add('hidden'));
                    yearlyPrices.forEach(el => el.classList.remove('hidden'));
                }
            }

            setupPaymentErrorHandling() {
                // Handle payment errors
                window.addEventListener('paypal_error', (event) => {
                    this.showPaymentError(event.detail.message);
                });

                window.addEventListener('paypal_success', (event) => {
                    this.showPaymentSuccess();
                });
            }

            showPaymentError(message) {
                const errorDiv = document.getElementById('paymentError');
                if (errorDiv) {
                    errorDiv.textContent = message || '결제 처리 중 오류가 발생했습니다.';
                    errorDiv.classList.add('show');

                    // Hide after 5 seconds
                    setTimeout(() => {
                        errorDiv.classList.remove('show');
                    }, 5000);
                }

                // Also show notification
                if (window.showNotification) {
                    showNotification(message || '결제 중 오류가 발생했습니다.', 'error');
                }
            }

            showPaymentSuccess() {
                if (window.showNotification) {
                    showNotification('결제가 성공적으로 완료되었습니다!', 'success');
                }

                // Redirect after success
                setTimeout(() => {
                    window.location.href = 'home.html?upgraded=true';
                }, 2000);
            }
        }

        // Global functions for backward compatibility
        window.startFreeTrial = function (planType) {
            if (window.stockChartApp && !window.stockChartApp.isAuthenticated()) {
                localStorage.setItem('loginRedirect', window.location.href);
                showNotification('구독하려면 먼저 로그인해주세요.', 'info');
                window.stockChartApp.showModal('loginModal');
                return;
            }

            // Handle free trial start
            showNotification('7일 무료 체험이 시작됩니다!', 'success');

            // You can add PayPal integration here
            console.log(`Starting free trial for ${planType} plan`);
        };

        // Initialize subscription manager
        document.addEventListener('DOMContentLoaded', () => {
            window.subscriptionManager = new SubscriptionManager();
        });
    </script>
</body>

</html>