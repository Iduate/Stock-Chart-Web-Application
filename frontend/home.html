<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>홈 - StockChart</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📈</text></svg>">
    <link rel="stylesheet" href="css/tradingview-modern.css">
    <link rel="stylesheet" href="css/trustworthy-design.css">
    <link rel="stylesheet" href="css/tradingview-pro-effects.css">
    <link rel="stylesheet" href="css/chart-controls.css">
    <link rel="stylesheet" href="css/stock-symbols.css">
    <link rel="stylesheet" href="css/mobile-fixes.css">
    <link rel="stylesheet" href="css/auth-notifications.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>
    <script src="js/tradingview-theme.js"></script>
    <script src="js/tradingview-pro.js"></script>
    <script src="js/chart-legend.js"></script>
    <script src="js/chart-controls.js"></script>
    <script src="js/stock-symbols.js"></script>
</head>

<body>
    <!-- 네비게이션 바 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="home.html">
                    <i class="fas fa-chart-line"></i>
                    <span class="logo-text">StockChart</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="home.html" class="nav-link active">
                        <i class="fas fa-home"></i>
                        <span>홈</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="charts.html" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>차트 보드</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="prediction.html" class="nav-link">
                        <i class="fas fa-lightbulb"></i>
                        <span>예측</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="my-predictions.html" class="nav-link">
                        <i class="fas fa-user-chart"></i>
                        <span>나의 예측</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="ranking.html" class="nav-link">
                        <i class="fas fa-trophy"></i>
                        <span>랭킹</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="events.html" class="nav-link">
                        <i class="fas fa-calendar"></i>
                        <span>이벤트</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="subscription.html" class="nav-link">
                        <i class="fas fa-crown"></i>
                        <span>구독</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link start-now-btn" onclick="showLoginModal()">
                        <i class="fas fa-rocket"></i>
                        <span>지금 시작</span>
                    </a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- 메인 섹션 - TradingView-style Professional Design -->
    <section id="home" class="hero">
        <div class="hero-background">
            <div class="hero-gradient"></div>
            <div class="hero-particles"></div>
        </div>
        <div class="hero-container">
            <div class="hero-content">
                <div class="hero-badge">
                    <span class="badge-icon"><i class="fas fa-shield-check"></i></span>
                    <span>신뢰할 수 있는 AI 기반 예측 플랫폼</span>
                    <div class="verified-badge">
                        <i class="fas fa-check"></i> 검증됨
                    </div>
                </div>
                <h1 class="hero-title">
                    전세계 금융 전문가와 함께
                    <span class="gradient-text">미래 시장을 예측하세요</span>
                </h1>
                <p class="hero-description">
                    <i class="fas fa-chart-line trust-icon"></i> 암호화폐, 한국/미국/일본 주식 등 다양한 금융상품의 미래 가격을 예측하고
                    다른 사용자들과 예측 결과를 공유할 수 있는 전문 금융 플랫폼입니다.
                </p>
                <div class="trust-indicator">
                    <i class="fas fa-lock"></i> 엔터프라이즈급 보안 | 실시간 데이터 | 전문가 신뢰 분석
                </div>
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">10K+</div>
                        <div class="stat-label">활성 사용자</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">95%</div>
                        <div class="stat-label">예측 정확도</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">지원 종목</div>
                    </div>
                </div>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-hero" onclick="window.location.href='prediction.html'">
                        <span>무료로 시작하기</span>
                        <i class="fas fa-arrow-right"></i>
                    </button>
                    <button class="btn btn-secondary btn-hero" onclick="window.location.href='charts.html'">
                        <i class="fas fa-chart-line"></i>
                        <span>라이브 차트 보기</span>
                    </button>
                </div>
                <div class="hero-features">
                    <div class="feature-item">
                        <i class="fas fa-shield-alt"></i>
                        <span>안전한 거래</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-bolt"></i>
                        <span>실시간 데이터</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-users"></i>
                        <span>커뮤니티 인사이트</span>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <div class="chart-container-hero">
                    <div class="chart-preview" id="heroChart"></div>
                    <div class="chart-overlay">
                        <div class="chart-stats">
                            <div class="chart-stat positive">
                                <span class="label">수익률</span>
                                <span class="value">+12.5%</span>
                            </div>
                            <div class="chart-stat">
                                <span class="label">활성 예측</span>
                                <span class="value">247</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 메인 차트 섹션 -->
    <section class="main-chart-section">
        <div class="container">
            <div class="section-header">
                <h2>실시간 시장 분석</h2>
                <p>최신 시장 데이터와 AI 기반 분석을 확인하세요</p>
            </div>
            <div class="featured-chart-container" id="featuredChart">
                <!-- This is where the large chart will be rendered -->
            </div>
            <div class="chart-control-row">
                <div class="chart-timeframes">
                    <button class="btn btn-timeframe active" data-timeframe="1D">1D</button>
                    <button class="btn btn-timeframe" data-timeframe="1W">1W</button>
                    <button class="btn btn-timeframe" data-timeframe="1M">1M</button>
                    <button class="btn btn-timeframe" data-timeframe="3M">3M</button>
                    <button class="btn btn-timeframe" data-timeframe="1Y">1Y</button>
                    <button class="btn btn-timeframe" data-timeframe="ALL">ALL</button>
                </div>
                <div class="feature-buttons">
                    <button class="feature-button" data-feature="characteristic">
                        <i class="fas fa-chart-line"></i>
                        특성
                    </button>
                    <button class="feature-button" data-feature="equipment">
                        <i class="fas fa-tools"></i>
                        장비
                    </button>
                </div>
            </div>
            <div class="chart-indicators">
                <button class="btn btn-indicator">
                    <i class="fas fa-chart-line"></i>
                    <span>지표</span>
                </button>
                <button class="btn btn-indicator">
                    <i class="fas fa-shapes"></i>
                    <span>도구</span>
                </button>
            </div>
        </div>
        </div>
    </section>

    <!-- 기능 소개 섹션 -->
    <section class="features-section">
        <div class="container">
            <div class="section-header">
                <h2>왜 StockChart를 선택해야 할까요?</h2>
                <p>혁신적인 기능들로 더 스마트한 투자를 경험해보세요</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon gradient-primary">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>AI 기반 분석</h3>
                    <p>머신러닝과 딥러닝 알고리즘을 활용한 정확한 시장 분석과 예측</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gradient-secondary">
                        <i class="fas fa-chart-area"></i>
                    </div>
                    <h3>실시간 차트</h3>
                    <p>전 세계 주요 거래소의 실시간 데이터를 기반으로 한 고급 차트 분석</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gradient-accent">
                        <i class="fas fa-users-crown"></i>
                    </div>
                    <h3>커뮤니티 예측</h3>
                    <p>전문가와 일반 투자자들의 예측을 공유하고 비교할 수 있는 소셜 플랫폼</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gradient-success">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3>경쟁 & 리워드</h3>
                    <p>예측 정확도에 따른 랭킹 시스템과 다양한 이벤트 참여 기회</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gradient-primary">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>모바일 최적화</h3>
                    <p>언제 어디서나 접속 가능한 반응형 웹 디자인과 모바일 앱</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon gradient-secondary">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3>보안 & 신뢰</h3>
                    <p>은행급 보안 시스템과 투명한 데이터 관리로 안전한 투자 환경 제공</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 실시간 시장 데이터 섹션 -->
    <section id="market-data" class="market-data">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">실시간 시장 현황</h2>
                <p class="section-description">전 세계 주요 시장의 실시간 데이터를 한눈에 확인하세요</p>
            </div>

            <div class="market-tabs">
                <div class="market-tab active" data-tab="stocks">주식</div>
                <div class="market-tab" data-tab="crypto">암호화폐</div>
                <div class="market-tab" data-tab="forex">외환</div>
                <div class="market-tab" data-tab="indices">지수</div>
            </div>

            <div class="market-content active" id="stocks-content">
                <div class="market-grid">
                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fas fa-microchip"></i>
                            </div>
                            <div class="symbol-name">삼성전자</div>
                        </div>
                        <div class="market-price">₩72,600</div>
                        <div class="market-change positive">
                            <i class="fas fa-caret-up"></i>
                            +2.1%
                        </div>
                        <div class="market-mini-chart" id="chart-005930"></div>
                    </div>

                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fas fa-memory"></i>
                            </div>
                            <div class="symbol-name">SK하이닉스</div>
                        </div>
                        <div class="market-price">₩154,500</div>
                        <div class="market-change positive">
                            <i class="fas fa-caret-up"></i>
                            +1.8%
                        </div>
                        <div class="market-mini-chart" id="chart-000660"></div>
                    </div>

                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fab fa-apple"></i>
                            </div>
                            <div class="symbol-name">Apple Inc</div>
                        </div>
                        <div class="market-price">$207.50</div>
                        <div class="market-change positive">
                            <i class="fas fa-caret-up"></i>
                            +0.8%
                        </div>
                        <div class="market-mini-chart" id="chart-AAPL"></div>
                    </div>

                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fab fa-tesla"></i>
                            </div>
                            <div class="symbol-name">Tesla Inc</div>
                        </div>
                        <div class="market-price">$185.75</div>
                        <div class="market-change negative">
                            <i class="fas fa-caret-down"></i>
                            -1.2%
                        </div>
                        <div class="market-mini-chart" id="chart-TSLA"></div>
                    </div>
                </div>
            </div>

            <div class="market-content" id="crypto-content">
                <div class="market-grid">
                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fab fa-bitcoin"></i>
                            </div>
                            <div class="symbol-name">Bitcoin</div>
                        </div>
                        <div class="market-price">$112,380</div>
                        <div class="market-change positive">
                            <i class="fas fa-caret-up"></i>
                            +2.5%
                        </div>
                        <div class="market-mini-chart" id="chart-BTC"></div>
                    </div>

                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fab fa-ethereum"></i>
                            </div>
                            <div class="symbol-name">Ethereum</div>
                        </div>
                        <div class="market-price">$4,320</div>
                        <div class="market-change negative">
                            <i class="fas fa-caret-down"></i>
                            -1.2%
                        </div>
                        <div class="market-mini-chart" id="chart-ETH"></div>
                    </div>

                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fas fa-coins"></i>
                            </div>
                            <div class="symbol-name">Solana</div>
                        </div>
                        <div class="market-price">$185.50</div>
                        <div class="market-change positive">
                            <i class="fas fa-caret-up"></i>
                            +3.2%
                        </div>
                        <div class="market-mini-chart" id="chart-SOL"></div>
                    </div>

                    <div class="market-card">
                        <div class="market-symbol">
                            <div class="symbol-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div class="symbol-name">Cardano</div>
                        </div>
                        <div class="market-price">$0.75</div>
                        <div class="market-change positive">
                            <i class="fas fa-caret-up"></i>
                            +1.5%
                        </div>
                        <div class="market-mini-chart" id="chart-ADA"></div>
                    </div>
                </div>
            </div>
            <span class="indicator-change positive">+1.2%</span>
        </div>
        <div class="indicator-value">2,547.23</div>
        <div class="indicator-trend">
            <i class="fas fa-arrow-up"></i>
            <span>24시간 최고점</span>
        </div>
        </div>
        <div class="indicator-card">
            <div class="indicator-header">
                <h4>나스닥</h4>
                <span class="indicator-change negative">-0.8%</span>
            </div>
            <div class="indicator-value">15,432.67</div>
            <div class="indicator-trend">
                <i class="fas fa-arrow-down"></i>
                <span>조정 구간</span>
            </div>
        </div>
        <div class="indicator-card">
            <div class="indicator-header">
                <h4>비트코인</h4>
                <span class="indicator-change positive">+3.5%</span>
            </div>
            <div class="indicator-value">$43,250</div>
            <div class="indicator-trend">
                <i class="fas fa-arrow-up"></i>
                <span>강세 지속</span>
            </div>
        </div>
        <div class="indicator-card">
            <div class="indicator-header">
                <h4>금 (Gold)</h4>
                <span class="indicator-change positive">+0.6%</span>
            </div>
            <div class="indicator-value">$1,985.40</div>
            <div class="indicator-trend">
                <i class="fas fa-arrow-up"></i>
                <span>안전자산 선호</span>
            </div>
        </div>
        </div>
        </div>
        <div class="market-data-grid">
            <div class="market-card">
                <div class="market-card-header">
                    <h3>🔥 인기 주식</h3>
                    <a href="charts.html" class="view-all-link">전체보기 <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="popular-stocks">
                    <!-- 실시간 주식 데이터가 여기에 표시됩니다 -->
                    <div class="loading-modern">
                        <div class="loading-spinner"></div>
                        <span>데이터 로딩 중...</span>
                    </div>
                </div>
            </div>
            <div class="market-card">
                <div class="market-card-header">
                    <h3>₿ 암호화폐</h3>
                    <a href="charts.html" class="view-all-link">전체보기 <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="popular-cryptos">
                    <!-- 실시간 암호화폐 데이터가 여기에 표시됩니다 -->
                    <div class="loading-modern">
                        <div class="loading-spinner"></div>
                        <span>데이터 로딩 중...</span>
                    </div>
                </div>
            </div>
            <div class="market-card">
                <div class="market-card-header">
                    <h3>📊 시장 지수</h3>
                    <a href="charts.html" class="view-all-link">전체보기 <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="market-indices">
                    <!-- 시장 지수 데이터가 여기에 표시됩니다 -->
                    <div class="loading-modern">
                        <div class="loading-spinner"></div>
                        <span>데이터 로딩 중...</span>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </section>

    <!-- 차트 보드 섹션 -->
    <section class="chart-board">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">온 세상 사람들과 함께 마켓 탐구</h2>
                <p class="section-description">실시간 주식 차트와 다른 트레이더들의 아이디어를 확인하세요</p>
            </div>

            <div class="chart-container">
                <div class="chart-header">
                    <div class="chart-title">SAMSUNG ELECTRONICS (삼성전자)</div>
                    <div class="chart-controls">
                        <button class="chart-control">1D</button>
                        <button class="chart-control">1W</button>
                        <button class="chart-control">1M</button>
                        <button class="chart-control">3M</button>
                        <button class="chart-control">1Y</button>
                        <button class="chart-control">ALL</button>
                    </div>
                </div>
                <div class="chart-body" id="mainChart"></div>
            </div>

            <div class="section-header">
                <h3>커뮤니티 트렌드</h3>
            </div>

            <div class="community-insights">
                <div class="insight-cards">
                    <div class="insight-card">
                        <div class="insight-header">
                            <div class="insight-author">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%234A6EE0'/%3E%3Ctext x='20' y='25' font-size='14' font-family='Arial' fill='white' text-anchor='middle'%3E투%3C/text%3E%3C/svg%3E"
                                    alt="투자고수 아바타" class="author-avatar">
                                <div class="author-info">
                                    <div class="author-name">투자고수</div>
                                    <div class="post-time">
                                        <i class="fas fa-clock"></i> 2 시간 전
                                    </div>
                                </div>
                            </div>
                            <div class="insight-symbol">
                                <div class="stock-symbol-container">
                                    <div class="stock-symbol-icon"><i class="fas fa-won-sign"></i></div>
                                    <span class="stock-symbol-text">KRX:005930</span>
                                </div>
                            </div>
                        </div>
                        <div class="insight-title">삼성전자, 상승 추세 속 단기 조정… 다음 전략은?</div>
                        <div class="insight-excerpt">
                            5월 말부터 이어진 강한 상승이 있었으나, 이후 거래량이 줄어들며 숨 고르기 국면에 들어선 모습입니다.
                            앞으로 조정세가 이어진다고 가정했을 때 고려해야 할 요소들...
                        </div>
                        <div class="insight-footer">
                            <div class="insight-reactions">
                                <span><i class="fas fa-thumbs-up"></i> 24</span>
                                <span><i class="fas fa-comment"></i> 5</span>
                            </div>
                            <div class="insight-tag long">롱</div>
                        </div>
                    </div>

                    <div class="insight-card">
                        <div class="insight-header">
                            <div class="insight-author">
                                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%236366F1'/%3E%3Ctext x='20' y='25' font-size='14' font-family='Arial' fill='white' text-anchor='middle'%3E차%3C/text%3E%3C/svg%3E"
                                    alt="차트분석가 아바타" class="author-avatar">
                                <div class="author-info">
                                    <div class="author-name">차트분석가</div>
                                    <div class="post-time">
                                        <i class="fas fa-clock"></i> 어제
                                    </div>
                                </div>
                            </div>
                            <div class="insight-symbol">
                                <div class="stock-symbol-container">
                                    <div class="stock-symbol-icon"><i class="fas fa-won-sign"></i></div>
                                    <span class="stock-symbol-text">KRX:000660</span>
                                </div>
                            </div>
                        </div>
                        <div class="insight-title">SK하이닉스 메모리 슈퍼사이클 시작될까?</div>
                        <div class="insight-excerpt">
                            AI 수요 증가로 메모리 반도체 가격이 상승 중입니다. SK하이닉스는 HBM 시장에서
                            주도적인 역할을 하고 있으며, 다음 분기부터는 본격적인 실적 개선이...
                        </div>
                        <div class="insight-footer">
                            <div class="insight-reactions">
                                <span><i class="fas fa-thumbs-up"></i> 42</span>
                                <span><i class="fas fa-comment"></i> 12</span>
                            </div>
                            <div class="insight-tag long">롱</div>
                        </div>
                    </div>
                </div>

                <div class="community-cta">
                    <button class="btn btn-primary" onclick="window.location.href='charts.html'">
                        모든 아이디어 보기 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            <span>실시간 성과 차트</span>
        </div>
        </div>
        </div>
        </div>
        </div>
    </section>

    <!-- CTA 섹션 -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>지금 시작하여 미래를 예측해보세요</h2>
                <p>무료 계정으로 시작하고 프리미엄 기능을 체험해보세요</p>
                <div class="cta-buttons">
                    <button class="btn btn-primary btn-xl" onclick="window.location.href='prediction.html'">
                        <i class="fas fa-rocket"></i>
                        무료로 시작하기
                    </button>
                    <button class="btn btn-outline btn-xl" onclick="window.location.href='subscription.html'">
                        <i class="fas fa-crown"></i>
                        프리미엄 구독
                    </button>
                </div>
                <div class="cta-features">
                    <div class="cta-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>신용카드 불필요</span>
                    </div>
                    <div class="cta-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>즉시 사용 가능</span>
                    </div>
                    <div class="cta-feature">
                        <i class="fas fa-check-circle"></i>
                        <span>언제든 취소 가능</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 푸터 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>StockChart</h4>
                    <p>미래의 주식 가격을 예측하고 공유하는 플랫폼</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>서비스</h4>
                    <ul>
                        <li><a href="charts.html">차트 보드</a></li>
                        <li><a href="prediction.html">예측하기</a></li>
                        <li><a href="my-predictions.html">내 예측</a></li>
                        <li><a href="ranking.html">랭킹</a></li>
                        <li><a href="events.html">이벤트</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>고객지원</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">문의하기</a></li>
                        <li><a href="#">이용약관</a></li>
                        <li><a href="#">개인정보처리방침</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>연락처</h4>
                    <p>이메일: support@stockchart.kr</p>
                    <p>전화: 02-1234-5678</p>
                    <p>주소: 서울시 강남구 테헤란로 123</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 StockChart. 모든 권리 보유.</p>
            </div>
        </div>
    </footer>

    <!-- 로그인 모달 -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideLoginModal()">&times;</span>
            <h2>로그인</h2>
            <form id="loginForm">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="이메일" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="비밀번호" required>
                </div>
                <button type="submit" class="btn btn-primary btn-full">로그인</button>
            </form>
            <div class="social-login">
                <p>또는 소셜 계정으로 로그인</p>
                <button class="btn btn-google" onclick="loginWithGoogle()">
                    <i class="fab fa-google"></i> Google로 로그인
                </button>
                <button class="btn btn-apple" onclick="loginWithApple()">
                    <i class="fab fa-apple"></i> Apple로 로그인
                </button>
                <!-- Hidden container for Google Sign-In API -->
                <div id="google-signin-button" style="display: none;"></div>
            </div>
            <p class="modal-footer">
                계정이 없으신가요? <a href="#" onclick="showSignupModal()">회원가입</a>
            </p>
        </div>
    </div>

    <!-- 회원가입 모달 -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="hideSignupModal()">&times;</span>
            <h2>회원가입</h2>
            <form id="signupForm">
                <div class="form-group">
                    <input type="text" id="signupUsername" placeholder="사용자명" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signupEmail" placeholder="이메일" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signupPassword" placeholder="비밀번호" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signupPasswordConfirm" placeholder="비밀번호 확인" required>
                </div>
                <div class="form-group">
                    <input type="text" id="referralCode" placeholder="추천인 코드 (선택사항)">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="agreeTerms" required>
                        이용약관 및 개인정보처리방침에 동의합니다.
                    </label>
                </div>
                <button type="submit" class="btn btn-primary btn-full">회원가입</button>
            </form>
            <div class="social-login">
                <p>또는 소셜 계정으로 가입</p>
                <button class="btn btn-google" onclick="signupWithGoogle()">
                    <i class="fab fa-google"></i> Google로 가입
                </button>
                <button class="btn btn-apple" onclick="signupWithApple()">
                    <i class="fab fa-apple"></i> Apple로 가입
                </button>
            </div>
            <p class="modal-footer">
                이미 계정이 있으신가요? <a href="#" onclick="showLoginModal()">로그인</a>
            </p>
        </div>
    </div>

    <script src="js/notification.js?v=1.1"></script>
    <script src="js/google-auth.js?v=1.1"></script>
    <script src="js/auth-loader.js?v=1.0"></script>
    <script src="js/app.js?v=1.6"></script>
    <script>
        // Initialize TradingView-style theme after app.js loads
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof initThemeToggle === 'function') {
                initThemeToggle();
            }

            if (typeof createMarketTickers === 'function') {
                createMarketTickers();
            }

            if (typeof createHeroChartIfNeeded === 'function') {
                createHeroChartIfNeeded();
            }

            // Handle market tabs
            document.querySelectorAll('.market-tab').forEach(tab => {
                tab.addEventListener('click', function () {
                    // Remove active class from all tabs
                    document.querySelectorAll('.market-tab').forEach(t => t.classList.remove('active'));

                    // Add active class to clicked tab
                    this.classList.add('active');

                    // Hide all content
                    document.querySelectorAll('.market-content').forEach(c => c.classList.remove('active'));

                    // Show selected content
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId + '-content')?.classList.add('active');
                });
            });

            // Create mini charts for market data
            createMiniCharts();
        });

        // Create mini charts for market cards
        function createMiniCharts() {
            const isDarkTheme = !document.body.classList.contains('light-theme');

            document.querySelectorAll('.market-mini-chart').forEach(container => {
                const chart = LightweightCharts.createChart(container, {
                    width: container.clientWidth,
                    height: container.clientHeight,
                    layout: {
                        background: { type: 'solid', color: 'transparent' },
                        textColor: 'transparent',
                        fontSize: 0,
                    },
                    rightPriceScale: {
                        visible: false,
                    },
                    leftPriceScale: {
                        visible: false,
                    },
                    grid: {
                        vertLines: { visible: false },
                        horzLines: { visible: false },
                    },
                    timeScale: {
                        visible: false,
                    },
                    crosshair: {
                        horzLine: { visible: false },
                        vertLine: { visible: false },
                    },
                    handleScroll: false,
                    handleScale: false,
                });

                // Create series
                const change = container.previousElementSibling;
                const isPositive = change.classList.contains('positive');
                const seriesColor = isPositive ? '#26a69a' : '#ef5350';

                const areaSeries = chart.addAreaSeries({
                    topColor: isPositive ? 'rgba(38, 166, 154, 0.28)' : 'rgba(239, 83, 80, 0.28)',
                    bottomColor: isPositive ? 'rgba(38, 166, 154, 0.05)' : 'rgba(239, 83, 80, 0.05)',
                    lineColor: seriesColor,
                    lineWidth: 2,
                });

                // Generate random data based on positive/negative trend
                const data = generateRandomChartData(isPositive);
                areaSeries.setData(data);
            });
        }

        // Generate random chart data for mini charts
        function generateRandomChartData(isPositive) {
            const data = [];
            let value = 100;
            const direction = isPositive ? 1 : -1;

            for (let i = 0; i < 30; i++) {
                // Random change with trend bias
                const change = (Math.random() * 2 - 0.8 + direction * 0.3) / 100;
                value = value * (1 + change);

                data.push({
                    time: Math.floor(Date.now() / 1000) - (30 - i) * 3600,
                    value: value
                });
            }

            return data;
        }

        // Initialize main chart with candlestick data
        document.addEventListener('DOMContentLoaded', function () {
            const mainChartElement = document.getElementById('mainChart');
            if (!mainChartElement) return;

            const isDarkTheme = !document.body.classList.contains('light-theme');

            // Create chart with TradingView styling
            const chart = LightweightCharts.createChart(mainChartElement, {
                width: mainChartElement.clientWidth,
                height: mainChartElement.clientHeight,
                layout: {
                    background: {
                        type: 'solid',
                        color: isDarkTheme ? '#131722' : '#ffffff'
                    },
                    textColor: isDarkTheme ? '#d1d4dc' : '#131722',
                    fontSize: 12,
                    fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, sans-serif',
                },
                grid: {
                    vertLines: {
                        color: isDarkTheme ? '#2a2e39' : '#f0f3fa',
                    },
                    horzLines: {
                        color: isDarkTheme ? '#2a2e39' : '#f0f3fa',
                    },
                },
                crosshair: {
                    mode: LightweightCharts.CrosshairMode.Normal,
                    vertLine: {
                        width: 1,
                        color: isDarkTheme ? '#758696' : '#9db2bd',
                        style: LightweightCharts.LineStyle.Dashed,
                    },
                    horzLine: {
                        width: 1,
                        color: isDarkTheme ? '#758696' : '#9db2bd',
                        style: LightweightCharts.LineStyle.Dashed,
                    },
                },
                timeScale: {
                    borderColor: isDarkTheme ? '#2a2e39' : '#e0e3eb',
                    timeVisible: true,
                    secondsVisible: false,
                },
                rightPriceScale: {
                    borderColor: isDarkTheme ? '#2a2e39' : '#e0e3eb',
                },
            });

            // Generate candlestick data
            const candleData = generateCandlestickData();

            // Add candlestick series
            const candlestickSeries = chart.addCandlestickSeries({
                upColor: '#26a69a',
                downColor: '#ef5350',
                borderVisible: false,
                wickUpColor: '#26a69a',
                wickDownColor: '#ef5350',
            });

            candlestickSeries.setData(candleData);

            // Add volume series
            const volumeSeries = chart.addHistogramSeries({
                color: '#26a69a',
                priceFormat: {
                    type: 'volume',
                },
                priceScaleId: '',
                scaleMargins: {
                    top: 0.8,
                    bottom: 0,
                },
            });

            // Generate volume data from candlestick data
            const volumeData = candleData.map(candle => ({
                time: candle.time,
                value: candle.volume,
                color: candle.close >= candle.open ? '#26a69a' : '#ef5350'
            }));

            volumeSeries.setData(volumeData);

            // Make chart responsive
            window.addEventListener('resize', () => {
                chart.applyOptions({
                    width: mainChartElement.clientWidth,
                    height: mainChartElement.clientHeight,
                });
            });

            // Set chart control buttons functionality
            document.querySelectorAll('.chart-control').forEach((button, index) => {
                button.addEventListener('click', function () {
                    // Remove active class from all buttons
                    document.querySelectorAll('.chart-control').forEach(btn => {
                        btn.classList.remove('active');
                    });

                    // Add active class to clicked button
                    this.classList.add('active');

                    // Update chart timeframe based on button index
                    const from = new Date();
                    let to = new Date();

                    switch (index) {
                        case 0: // 1D
                            from.setDate(from.getDate() - 1);
                            break;
                        case 1: // 1W
                            from.setDate(from.getDate() - 7);
                            break;
                        case 2: // 1M
                            from.setMonth(from.getMonth() - 1);
                            break;
                        case 3: // 3M
                            from.setMonth(from.getMonth() - 3);
                            break;
                        case 4: // 1Y
                            from.setFullYear(from.getFullYear() - 1);
                            break;
                        case 5: // ALL - default behavior uses all data
                            chart.timeScale().fitContent();
                            return;
                    }

                    chart.timeScale().setVisibleRange({
                        from: Math.floor(from.getTime() / 1000),
                        to: Math.floor(to.getTime() / 1000)
                    });
                });
            });

            // Activate default timeframe (3M)
            document.querySelectorAll('.chart-control')[3].classList.add('active');
        });

        // Generate realistic candlestick data
        function generateCandlestickData() {
            const data = [];
            const startDate = new Date();
            startDate.setFullYear(startDate.getFullYear() - 1);

            let price = 72000; // Starting price for Samsung Electronics
            let volatility = 0.02;

            const trends = [
                { direction: 1, days: 30, volatility: 0.015 },
                { direction: -1, days: 15, volatility: 0.02 },
                { direction: 1, days: 60, volatility: 0.01 },
                { direction: -1, days: 20, volatility: 0.025 },
                { direction: 0, days: 20, volatility: 0.01 },
                { direction: 1, days: 45, volatility: 0.02 },
                { direction: -1, days: 10, volatility: 0.015 },
                { direction: 1, days: 90, volatility: 0.01 },
                { direction: -1, days: 25, volatility: 0.02 },
                { direction: 1, days: 30, volatility: 0.02 }
            ];

            let trendIndex = 0;
            let daysInTrend = 0;

            for (let i = 0; i < 365; i++) {
                if (daysInTrend >= trends[trendIndex].days) {
                    trendIndex = (trendIndex + 1) % trends.length;
                    daysInTrend = 0;
                }

                const currentDate = new Date(startDate);
                currentDate.setDate(startDate.getDate() + i);

                // Skip weekends
                if (currentDate.getDay() === 0 || currentDate.getDay() === 6) {
                    continue;
                }

                const trend = trends[trendIndex];
                volatility = trend.volatility;

                // Base daily change with trend bias
                let baseChange = (Math.random() * volatility * 2 - volatility) + (trend.direction * volatility / 2);

                // Day's range
                let open = price;
                let close = price * (1 + baseChange);

                // Calculate high and low with some randomness
                let high = Math.max(open, close) * (1 + Math.random() * volatility * 0.5);
                let low = Math.min(open, close) * (1 - Math.random() * volatility * 0.5);

                // Generate volume
                let volume = Math.round(100000 + Math.random() * 500000);

                // If big price movement, increase volume
                if (Math.abs(close - open) / open > volatility) {
                    volume = volume * (1 + Math.random());
                }

                // Add candle
                data.push({
                    time: Math.floor(currentDate.getTime() / 1000),
                    open: open,
                    high: high,
                    low: low,
                    close: close,
                    volume: volume
                });

                // Set next day's open price
                price = close;

                daysInTrend++;
            }

            return data;
        }
    </script>
</body>

</html>