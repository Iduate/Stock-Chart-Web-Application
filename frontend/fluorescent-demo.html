<!DOCTYPE html>
<html lang="ko" class="dark overflow-x-hidden max-w-full">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>형광색 동적 차트 데모 - Boss Requirements</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌈</text></svg>">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Lightweight Charts -->
    <script src="https://unpkg.com/lightweight-charts@4.1.3/dist/lightweight-charts.standalone.production.js"></script>

    <!-- Custom Tailwind Config with Fluorescent Colors -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'neon-green': '#00FF00',      // Pure bright green
                        'neon-blue': '#0066FF',       // Deep electric blue
                        'neon-pink': '#FF0080',       // Hot magenta pink
                        'neon-yellow': '#FFFF00',     // Pure bright yellow
                        'neon-orange': '#FF6600',     // Bright orange
                        'neon-purple': '#9900FF',     // Electric purple
                        'neon-cyan': '#00FFFF',       // Electric cyan
                        'neon-red': '#FF0000',        // Pure bright red
                        'electric-lime': '#CCFF00',   // Electric lime
                        'hot-pink': '#FF1493',        // Deep hot pink
                    },
                    animation: {
                        'neon-pulse': 'neon-pulse 2s ease-in-out infinite',
                        'neon-glow': 'neon-glow 3s ease-in-out infinite',
                        'slide-up': 'slide-up 0.8s ease-out',
                    }
                }
            }
        }
    </script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Custom Styles for Fluorescent Effects -->
    <style>
        @keyframes neon-pulse {

            0%,
            100% {
                opacity: 0.15;
                transform: scale(1);
                box-shadow: 0 0 30px rgba(0, 255, 0, 0.4);
                /* Stronger glow */
            }

            50% {
                opacity: 0.5;
                transform: scale(1.03);
                box-shadow: 0 0 60px rgba(0, 255, 0, 0.8);
                /* Much stronger glow */
            }
        }

        @keyframes neon-glow {

            0%,
            100% {
                box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
                /* Stronger base glow */
            }

            50% {
                box-shadow: 0 0 60px rgba(0, 255, 0, 1.0);
                /* Maximum glow */
            }
        }

        @keyframes slide-up {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .neon-border {
            border: 3px solid #00FF00;
            /* Thicker border with pure green */
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.6);
            /* Stronger glow */
        }

        .neon-text {
            color: #00FF00;
            /* Pure green for better contrast */
            text-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
            /* Stronger text glow */
        }

        .chart-container-fluorescent {
            background: radial-gradient(circle at center, rgba(0, 255, 0, 0.08) 0%, transparent 70%);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin: 10px 0;
            /* Add spacing between charts */
        }

        .chart-container-fluorescent::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            background: linear-gradient(45deg, #00FF00, #0066FF, #FF0080);
            /* High contrast colors */
            border-radius: 25px;
            opacity: 0.2;
            /* More visible glow */
            animation: neon-pulse 2s ease-in-out infinite;
            z-index: -1;
        }

        .mobile-enhanced {
            min-height: 280px;
        }

        @media (max-width: 768px) {
            .mobile-enhanced {
                min-height: 220px;
            }
        }

        .status-indicator {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border: 3px solid #00FF00;
            /* Thicker border */
            border-radius: 15px;
            padding: 15px;
            /* Larger padding */
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 20;
            animation: neon-glow 3s ease-in-out infinite;
        }

        .pulse-dot {
            display: inline-block;
            width: 10px;
            /* Larger dot */
            height: 10px;
            background: #00FF00;
            border-radius: 50%;
            animation: neon-pulse 1s ease-in-out infinite;
            margin-right: 10px;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.8);
            /* Glowing dot */
        }

        /* CRITICAL: Fix horizontal scrolling on mobile */
        html,
        body {
            overflow-x: hidden !important;
            max-width: 100vw !important;
            position: relative !important;
        }

        * {
            max-width: 100% !important;
            box-sizing: border-box !important;
        }

        /* Prevent any element from causing horizontal overflow */
        .container,
        .max-w-7xl,
        .w-full {
            max-width: 100vw !important;
            padding-left: 1rem !important;
            padding-right: 1rem !important;
        }

        /* Ensure all sections stay within viewport */
        section {
            max-width: 100vw !important;
            overflow-x: hidden !important;
        }

        /* Fix chart containers */
        .chart-container,
        #chartContainer {
            max-width: 100% !important;
            width: 100% !important;
            overflow: hidden !important;
        }
    </style>
</head>

<body class="bg-black text-white font-inter overflow-x-hidden max-w-full min-h-screen">
    <!-- Header -->
    <header class="bg-black border-b-2 border-neon-green py-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-chart-line text-neon-green text-2xl"></i>
                    <h1 class="text-2xl font-bold neon-text">형광색 동적 차트 데모</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="status-indicator">
                        <div class="flex items-center">
                            <div class="pulse-dot"></div>
                            <span class="text-neon-green font-semibold">2초마다 업데이트</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Boss Requirements Summary -->
            <div class="mb-8 p-6 bg-gray-900 neon-border rounded-xl animate-slide-up">
                <h2 class="text-xl font-bold neon-text mb-4">
                    <i class="fas fa-star mr-2"></i>사장님 요구사항 구현
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="text-center">
                        <i class="fas fa-palette text-neon-pink text-2xl mb-2"></i>
                        <div class="text-neon-pink font-semibold">형광색 사용</div>
                        <div class="text-sm text-gray-400">접선 대신 밝은 형광색</div>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-sync-alt text-neon-blue text-2xl mb-2"></i>
                        <div class="text-neon-blue font-semibold">2초 동적 업데이트</div>
                        <div class="text-sm text-gray-400">실시간 차트 애니메이션</div>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-mobile-alt text-neon-yellow text-2xl mb-2"></i>
                        <div class="text-neon-yellow font-semibold">모바일 최적화</div>
                        <div class="text-sm text-gray-400">스마트폰 화면 대응</div>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Main Fluorescent Chart -->
                <div class="chart-container-fluorescent mobile-enhanced animate-slide-up">
                    <div class="p-4">
                        <h3 class="text-lg font-bold neon-text mb-2">
                            <i class="fas fa-chart-area mr-2"></i>메인 형광 차트
                        </h3>
                        <p class="text-sm text-gray-400 mb-4">2초마다 실시간 업데이트되는 형광색 차트</p>
                    </div>
                    <div id="fluorescent-chart-1" class="w-full h-64"></div>
                    <div class="status-indicator">
                        <div class="text-neon-green text-sm font-semibold" id="price-display-1">$0.00</div>
                        <div class="text-xs text-gray-300" id="change-display-1">+0.00 (0.00%)</div>
                        <div class="text-xs text-neon-green mt-1">🟢 실시간</div>
                    </div>
                </div>

                <!-- Secondary Fluorescent Chart -->
                <div class="chart-container-fluorescent mobile-enhanced animate-slide-up"
                    style="animation-delay: 0.2s;">
                    <div class="p-4">
                        <h3 class="text-lg font-bold text-neon-blue mb-2">
                            <i class="fas fa-chart-line mr-2"></i>보조 형광 차트
                        </h3>
                        <p class="text-sm text-gray-400 mb-4">파란색 형광으로 비교 데이터 표시</p>
                    </div>
                    <div id="fluorescent-chart-2" class="w-full h-64"></div>
                    <div class="status-indicator"
                        style="border-color: #0080FF; box-shadow: 0 0 20px rgba(0, 128, 255, 0.4);">
                        <div class="text-blue-400 text-sm font-semibold" id="price-display-2">$0.00</div>
                        <div class="text-xs text-gray-300" id="change-display-2">+0.00 (0.00%)</div>
                        <div class="text-xs text-blue-400 mt-1">🟢 실시간</div>
                    </div>
                </div>

                <!-- Mobile Demo Chart -->
                <div class="chart-container-fluorescent mobile-enhanced animate-slide-up lg:col-span-2"
                    style="animation-delay: 0.4s;">
                    <div class="p-4">
                        <h3 class="text-lg font-bold text-neon-pink mb-2">
                            <i class="fas fa-mobile-alt mr-2"></i>모바일 최적화 차트
                        </h3>
                        <p class="text-sm text-gray-400 mb-4">스마트폰에서 동적으로 표현되는 차트 (2초마다 재생 반복)</p>
                    </div>
                    <div id="fluorescent-chart-mobile" class="w-full h-64"></div>
                    <div class="status-indicator"
                        style="border-color: #FF007F; box-shadow: 0 0 20px rgba(255, 0, 127, 0.4);">
                        <div class="text-pink-400 text-sm font-semibold" id="price-display-mobile">$0.00</div>
                        <div class="text-xs text-gray-300" id="change-display-mobile">+0.00 (0.00%)</div>
                        <div class="text-xs text-pink-400 mt-1">📱 모바일 최적화</div>
                    </div>
                </div>
            </div>

            <!-- Live Statistics -->
            <div class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-4 animate-slide-up" style="animation-delay: 0.6s;">
                <div class="bg-gray-900 p-4 rounded-lg neon-border text-center">
                    <div class="text-neon-green text-2xl font-bold" id="update-count">0</div>
                    <div class="text-sm text-gray-400">총 업데이트</div>
                </div>
                <div class="bg-gray-900 p-4 rounded-lg border-2 border-neon-blue text-center">
                    <div class="text-neon-blue text-2xl font-bold" id="avg-change">0.00%</div>
                    <div class="text-sm text-gray-400">평균 변화율</div>
                </div>
                <div class="bg-gray-900 p-4 rounded-lg border-2 border-neon-pink text-center">
                    <div class="text-neon-pink text-2xl font-bold" id="max-price">$0.00</div>
                    <div class="text-sm text-gray-400">최고가</div>
                </div>
                <div class="bg-gray-900 p-4 rounded-lg border-2 border-neon-yellow text-center">
                    <div class="text-neon-yellow text-2xl font-bold">실시간</div>
                    <div class="text-sm text-gray-400">업데이트 상태</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Fluorescent Charts JavaScript -->
    <script src="js/fluorescent-charts.js"></script>

    <!-- Demo-specific Script -->
    <script>
        let updateCount = 0;
        let priceHistory = [];
        let maxPrice = 0;

        // Enhanced demo initialization
        document.addEventListener('DOMContentLoaded', function () {
            console.log('🌈 Fluorescent Charts Demo Loading...');

            // Wait for LightweightCharts
            if (typeof LightweightCharts !== 'undefined') {
                setTimeout(initializeDemoCharts, 500);
            } else {
                console.error('LightweightCharts not loaded');
            }
        });

        function initializeDemoCharts() {
            console.log('📊 Initializing Demo Charts with Boss Requirements...');

            // Create three HIGHLY CONTRASTING fluorescent charts
            createDemoChart('fluorescent-chart-1', '#00FF00', 'neon-green');      // Pure green
            createDemoChart('fluorescent-chart-2', '#0066FF', 'neon-blue');       // Deep blue  
            createDemoChart('fluorescent-chart-mobile', '#FF0080', 'hot-pink');   // Hot pink

            // Start statistics tracking
            setInterval(updateStatistics, 2000);
        }

        function createDemoChart(containerId, color, colorClass) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const chart = LightweightCharts.createChart(container, {
                width: container.clientWidth,
                height: 240,
                layout: {
                    background: { color: 'transparent' },
                    textColor: color,
                    fontSize: 12,
                    fontFamily: 'Inter, sans-serif',
                },
                grid: {
                    vertLines: {
                        color: `${color}20`,
                        style: LightweightCharts.LineStyle.Dotted,
                    },
                    horzLines: {
                        color: `${color}20`,
                        style: LightweightCharts.LineStyle.Dotted,
                    },
                },
                crosshair: {
                    mode: LightweightCharts.CrosshairMode.Normal,
                    vertLine: {
                        width: 2,
                        color: color,
                        style: LightweightCharts.LineStyle.Solid,
                    },
                    horzLine: {
                        width: 2,
                        color: color,
                        style: LightweightCharts.LineStyle.Solid,
                    }
                },
                timeScale: {
                    borderColor: color,
                    timeVisible: true,
                    secondsVisible: false,
                },
                rightPriceScale: {
                    borderColor: color,
                    textColor: color,
                },
                handleScroll: { mouseWheel: true, pressedMouseMove: true },
                handleScale: { axisPressedMouseMove: true, mouseWheel: true, pinch: true }
            });

            // Add area series with fluorescent colors
            const areaSeries = chart.addAreaSeries({
                topColor: `${color}50`,
                bottomColor: `${color}10`,
                lineColor: color,
                lineWidth: 3,
                crosshairMarkerVisible: true,
                crosshairMarkerRadius: 6,
                crosshairMarkerBorderColor: color,
                crosshairMarkerBackgroundColor: color,
                lastValueVisible: true,
                priceLineVisible: true,
                priceLineWidth: 2,
                priceLineColor: color,
            });

            // Generate initial data
            const now = Math.floor(Date.now() / 1000);
            const data = [];
            let basePrice = 100 + Math.random() * 200;

            for (let i = 60; i >= 0; i--) {
                const time = now - (i * 2); // 2 second intervals
                const change = (Math.random() - 0.5) * 10;
                basePrice = Math.max(10, basePrice + change);
                data.push({
                    time: time,
                    value: parseFloat(basePrice.toFixed(2))
                });
            }

            areaSeries.setData(data);

            // Store chart info
            window[`chart_${containerId}`] = {
                chart: chart,
                series: areaSeries,
                lastPrice: basePrice,
                lastTime: now,
                color: color,
                containerId: containerId
            };

            // Start real-time updates (2 seconds as requested by boss)
            setInterval(() => {
                updateChart(containerId);
            }, 2000);

            // Handle resize
            new ResizeObserver(entries => {
                if (entries.length === 0 || entries[0].target !== container) return;
                const newRect = entries[0].contentRect;
                chart.applyOptions({ width: newRect.width, height: newRect.height });
            }).observe(container);
        }

        function updateChart(containerId) {
            const chartInfo = window[`chart_${containerId}`];
            if (!chartInfo) return;

            updateCount++;

            const now = Math.floor(Date.now() / 1000);
            const change = (Math.random() - 0.5) * 15;
            chartInfo.lastPrice = Math.max(10, chartInfo.lastPrice + change);
            chartInfo.lastTime = now;

            // Update chart
            chartInfo.series.update({
                time: now,
                value: parseFloat(chartInfo.lastPrice.toFixed(2))
            });

            // Update price display
            const priceDisplay = document.getElementById(`price-display-${containerId.split('-').pop()}`);
            const changeDisplay = document.getElementById(`change-display-${containerId.split('-').pop()}`);

            if (priceDisplay && changeDisplay) {
                const changePercent = ((change / chartInfo.lastPrice) * 100).toFixed(2);
                const isPositive = change >= 0;

                priceDisplay.textContent = `$${chartInfo.lastPrice.toFixed(2)}`;
                changeDisplay.textContent = `${isPositive ? '+' : ''}${change.toFixed(2)} (${isPositive ? '+' : ''}${changePercent}%)`;

                // Update colors based on change
                priceDisplay.className = isPositive ? 'text-neon-green text-sm font-semibold' : 'text-neon-red text-sm font-semibold';
            }

            // Track for statistics
            priceHistory.push(chartInfo.lastPrice);
            if (chartInfo.lastPrice > maxPrice) {
                maxPrice = chartInfo.lastPrice;
            }
        }

        function updateStatistics() {
            // Update counter
            document.getElementById('update-count').textContent = updateCount;

            // Calculate average change
            if (priceHistory.length > 1) {
                const changes = [];
                for (let i = 1; i < priceHistory.length; i++) {
                    changes.push(((priceHistory[i] - priceHistory[i - 1]) / priceHistory[i - 1]) * 100);
                }
                const avgChange = changes.reduce((a, b) => a + b, 0) / changes.length;
                document.getElementById('avg-change').textContent = `${avgChange.toFixed(2)}%`;
            }

            // Update max price
            document.getElementById('max-price').textContent = `$${maxPrice.toFixed(2)}`;
        }

        // Add smooth animations on load
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(() => {
                document.querySelectorAll('.animate-slide-up').forEach((el, index) => {
                    el.style.animationDelay = `${index * 0.2}s`;
                });
            }, 100);
        });

        console.log('✨ Fluorescent Charts Demo Ready - 사장님 요구사항 완료!');
    </script>
</body>

</html>