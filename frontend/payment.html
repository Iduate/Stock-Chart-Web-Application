<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>결제하기 - 주식 차트</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💳</text></svg>">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Korean Trading UI Design System -->
    <link rel="stylesheet" href="css/figma-design.css">
    
    <!-- Mobile Trading UI -->
    <link rel="stylesheet" href="css/mobile-trading.css">
    
    <!-- Payment scripts -->
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <script src="https://js.tosspayments.com/v1/payment"></script>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
</head>

<body>
    <!-- Korean Trading UI Container -->
    <div class="figma-container">
        
        <!-- Sidebar -->
        <aside class="figma-sidebar">
            <div class="sidebar-logo">
                <i class="fas fa-chart-line"></i>
                <span>주식 차트</span>
            </div>
            
            <nav class="sidebar-nav">
                <a href="/" class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>홈</span>
                </a>
                <a href="charts.html" class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span>차트 분석</span>
                </a>
                <a href="prediction.html" class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span>사용자 예측</span>
                </a>
                <a href="ranking.html" class="nav-item">
                    <i class="fas fa-trophy"></i>
                    <span>수익률 랭킹</span>
                </a>
                <a href="subscription.html" class="nav-item">
                    <i class="fas fa-crown"></i>
                    <span>프리미엄</span>
                </a>
                <a href="events.html" class="nav-item">
                    <i class="fas fa-calendar"></i>
                    <span>이벤트</span>
                </a>
                <a href="payment.html" class="nav-item active">
                    <i class="fas fa-credit-card"></i>
                    <span>결제</span>
                </a>
            </nav>
            
            <div class="sidebar-bottom">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <div class="user-name">게스트</div>
                        <div class="user-status">무료 계정</div>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Header -->
        <header class="figma-header">
            <div class="header-logo">
                <i class="fas fa-credit-card text-accent-green"></i>
                <span>결제하기</span>
            </div>
            
            <div class="header-search">
                <input type="text" class="search-input" placeholder="플랜 검색">
            </div>
            
            <div class="header-actions">
                <button class="btn-predict">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>로그인</span>
                </button>
                <button class="btn-predict primary">
                    <i class="fas fa-credit-card"></i>
                    <span>결제하기</span>
                </button>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="figma-main">
            <div class="main-content">
                <!-- Payment Header -->
                <div class="content-header">
                    <h1>💳 결제하기</h1>
                    <p>원하는 플랜을 선택하고 안전하게 결제하세요</p>
                </div>
                
                <!-- Selected Plan Info -->
                <div class="selected-plan-info">
                    <h2>선택된 플랜</h2>
                    <div class="plan-summary">
                        <div class="plan-details">
                            <h3 id="selectedPlanName">프로 플랜</h3>
                            <p id="selectedPlanDescription">모든 프리미엄 기능과 고급 분석 도구</p>
                            <div class="plan-price">
                                <span id="selectedPlanPrice">₩39,900</span>
                                <span>/월</span>
                            </div>
                        </div>
                        <button class="change-plan-btn" onclick="changePlan()">
                            <i class="fas fa-edit"></i>
                            플랜 변경
                        </button>
                    </div>
                </div>
                
                <!-- Payment Methods -->
                <div class="payment-methods-section">
                    <h2>결제 방법 선택</h2>
                    <div class="payment-methods">
                        <div class="payment-method" data-method="card">
                            <div class="method-icon">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="method-info">
                                <h3>신용카드</h3>
                                <p>Visa, MasterCard, JCB</p>
                            </div>
                            <div class="method-radio">
                                <input type="radio" name="paymentMethod" value="card" checked>
                            </div>
                        </div>
                        
                        <div class="payment-method" data-method="kakao">
                            <div class="method-icon">
                                <i class="fas fa-comments" style="color: #fee500;"></i>
                            </div>
                            <div class="method-info">
                                <h3>카카오페이</h3>
                                <p>간편하고 안전한 결제</p>
                            </div>
                            <div class="method-radio">
                                <input type="radio" name="paymentMethod" value="kakao">
                            </div>
                        </div>
                        
                        <div class="payment-method" data-method="toss">
                            <div class="method-icon">
                                <i class="fas fa-mobile-alt" style="color: #3182f6;"></i>
                            </div>
                            <div class="method-info">
                                <h3>토스페이</h3>
                                <p>토스 앱으로 간편 결제</p>
                            </div>
                            <div class="method-radio">
                                <input type="radio" name="paymentMethod" value="toss">
                            </div>
                        </div>
                        
                        <div class="payment-method" data-method="bank">
                            <div class="method-icon">
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="method-info">
                                <h3>계좌이체</h3>
                                <p>무통장 입금</p>
                            </div>
                            <div class="method-radio">
                                <input type="radio" name="paymentMethod" value="bank">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Billing Information -->
                <div class="billing-info-section">
                    <h2>결제 정보</h2>
                    <form class="billing-form" id="billingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>이름</label>
                                <input type="text" id="customerName" placeholder="홍길동" required>
                            </div>
                            <div class="form-group">
                                <label>이메일</label>
                                <input type="email" id="customerEmail" placeholder="example@email.com" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>전화번호</label>
                                <input type="tel" id="customerPhone" placeholder="010-1234-5678" required>
                            </div>
                            <div class="form-group">
                                <label>회사명 (선택)</label>
                                <input type="text" id="companyName" placeholder="회사명">
                            </div>
                        </div>
                    </form>
                </div>
                
                <!-- Order Summary -->
                <div class="order-summary-section">
                    <h2>주문 요약</h2>
                    <div class="order-summary">
                        <div class="summary-row">
                            <span>플랜</span>
                            <span id="summaryPlanName">프로 플랜</span>
                        </div>
                        <div class="summary-row">
                            <span>월 요금</span>
                            <span id="summaryPlanPrice">₩39,900</span>
                        </div>
                        <div class="summary-row">
                            <span>할인</span>
                            <span class="discount">-₩0</span>
                        </div>
                        <div class="summary-row total">
                            <span>총 결제 금액</span>
                            <span id="totalAmount">₩39,900</span>
                        </div>
                    </div>
                </div>
                
                <!-- Terms and Conditions -->
                <div class="terms-section">
                    <div class="terms-checkbox">
                        <input type="checkbox" id="agreeTerms" required>
                        <label for="agreeTerms">
                            <a href="#" onclick="showTerms()">이용약관</a> 및 
                            <a href="#" onclick="showPrivacy()">개인정보처리방침</a>에 동의합니다
                        </label>
                    </div>
                    <div class="terms-checkbox">
                        <input type="checkbox" id="agreePayment" required>
                        <label for="agreePayment">결제 정보 제공에 동의합니다</label>
                    </div>
                </div>
                
                <!-- Payment Button -->
                <div class="payment-button-section">
                    <button class="payment-submit-btn" onclick="processPayment()">
                        <i class="fas fa-lock"></i>
                        <span id="paymentBtnText">₩39,900 결제하기</span>
                    </button>
                    <p class="payment-security">
                        <i class="fas fa-shield-alt"></i>
                        SSL 보안 결제로 안전하게 보호됩니다
                    </p>
                </div>
            </div>
        </main>
        
        <!-- Trading Panel -->
        <aside class="figma-trading-panel">
            <div class="trading-header">
                <h3>결제 도움말</h3>
            </div>
            
            <div class="payment-help">
                <div class="help-item">
                    <h4>결제 문의</h4>
                    <p>결제 관련 문의사항이 있으시면 언제든지 연락주세요</p>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>1588-1234</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>payment@stockchart.com</span>
                        </div>
                    </div>
                </div>
                
                <div class="help-item">
                    <h4>안전한 결제</h4>
                    <div class="security-badges">
                        <div class="security-badge">
                            <i class="fas fa-shield-alt"></i>
                            <span>SSL 인증</span>
                        </div>
                        <div class="security-badge">
                            <i class="fas fa-lock"></i>
                            <span>256bit 암호화</span>
                        </div>
                        <div class="security-badge">
                            <i class="fas fa-check-circle"></i>
                            <span>PCI DSS 준수</span>
                        </div>
                    </div>
                </div>
                
                <div class="help-item">
                    <h4>환불 정책</h4>
                    <ul class="refund-policy">
                        <li>7일 무료 체험 기간</li>
                        <li>언제든지 구독 취소 가능</li>
                        <li>미사용 기간 비례 환불</li>
                    </ul>
                </div>
            </div>
        </aside>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
    <a href="/" class="mobile-nav-item">
            <i class="fas fa-home"></i>
            <span>홈</span>
        </a>
        <a href="charts.html" class="mobile-nav-item">
            <i class="fas fa-chart-line"></i>
            <span>차트</span>
        </a>
        <a href="prediction.html" class="mobile-nav-item">
            <i class="fas fa-chart-line"></i>
            <span>예측</span>
        </a>
        <a href="ranking.html" class="mobile-nav-item">
            <i class="fas fa-trophy"></i>
            <span>랭킹</span>
        </a>
        <a href="payment.html" class="mobile-nav-item active">
            <i class="fas fa-credit-card"></i>
            <span>결제</span>
        </a>
    </nav>

    <!-- JavaScript -->
    <script>
        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                // Remove active class from all methods
                document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
                
                // Add active class to clicked method
                this.classList.add('active');
                
                // Check the radio button
                this.querySelector('input[type="radio"]').checked = true;
            });
        });

        // Form validation
        function validateForm() {
            const name = document.getElementById('customerName').value;
            const email = document.getElementById('customerEmail').value;
            const phone = document.getElementById('customerPhone').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            const agreePayment = document.getElementById('agreePayment').checked;

            if (!name || !email || !phone) {
                alert('필수 정보를 모두 입력해주세요.');
                return false;
            }

            if (!agreeTerms || !agreePayment) {
                alert('약관에 동의해주세요.');
                return false;
            }

            return true;
        }

        // Process payment
        function processPayment() {
            if (!validateForm()) {
                return;
            }

            const selectedMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            const amount = document.getElementById('totalAmount').textContent;
            
            // Show loading state
            const btn = document.querySelector('.payment-submit-btn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 결제 처리 중...';
            btn.disabled = true;

            // Simulate payment processing
            setTimeout(() => {
                alert(`${selectedMethod} 결제가 성공적으로 완료되었습니다!\n결제 금액: ${amount}`);
                
                // Reset button
                btn.innerHTML = '<i class="fas fa-lock"></i> ₩39,900 결제하기';
                btn.disabled = false;
                
                // Redirect to success page (in real app)
                // window.location.href = 'payment-success.html';
            }, 3000);
        }

        // Change plan
        function changePlan() {
            alert('플랜 변경 페이지로 이동합니다.');
            window.location.href = 'subscription.html';
        }

        // Show terms
        function showTerms() {
            alert('이용약관을 표시합니다.');
        }

        // Show privacy policy
        function showPrivacy() {
            alert('개인정보처리방침을 표시합니다.');
        }

        // Initialize payment methods
        document.addEventListener('DOMContentLoaded', function() {
            // Set first payment method as active
            document.querySelector('.payment-method').classList.add('active');
            
            // Add animation to form elements
            const formGroups = document.querySelectorAll('.form-group');
            formGroups.forEach((group, index) => {
                group.style.animationDelay = `${index * 0.1}s`;
                group.classList.add('fade-in');
            });
        });
    </script>

    <!-- Collapsible Sidebar Script -->
    <script src="js/collapsible-sidebar.js"></script>
</body>
</html>