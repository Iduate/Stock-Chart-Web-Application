<!DOCTYPE html>
<html lang="ko" class="h-full">

<head>
        <div class="home-desktop desktop-only">
            <section class="home-dashboard">
                <div class="home-metrics">
                    <div class="metric-card primary">
                        <div class="metric-label">현재가</div>
                        <div class="metric-value" id="homeMetricPrice">$432.32</div>
                        <div class="metric-change positive" id="homeMetricChange">+2.24 (0.52%)</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">시간 프레임</div>
                        <div class="metric-value">1일</div>
                        <div class="metric-sub">최근 업데이트 3분 전</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">시장 감지</div>
                        <div class="metric-value positive" id="homeMetricTrend">강세</div>
                        <div class="metric-sub">분석 신뢰도 92%</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">24H 거래량</div>
                        <div class="metric-value" id="homeMetricVolume">₩685.4M</div>
                        <div class="metric-sub">주요 거래소 기준</div>
                    </div>
                </div>

                <div class="home-main-grid">
                    <div class="home-chart-card">
                        <div class="home-chart-header">
                            <div class="chart-title-group">
                                <span class="chart-symbol">BTC / USD</span>
                                <span class="chart-name">비트코인 · USD 거래쌍</span>
                            </div>
                            <div class="chart-controls">
                                <button class="chart-time-btn active" data-period="1D">1D</button>
                                <button class="chart-time-btn" data-period="1W">1W</button>
                                <button class="chart-time-btn" data-period="1M">1M</button>
                                <button class="chart-time-btn" data-period="1Y">1Y</button>
                            </div>
                        </div>
                        <div class="home-chart-body" id="homeChart"></div>
                        <div class="home-chart-footer">
                            <div>
                                <span class="footer-label">고가</span>
                                <span class="footer-value" id="homeHighValue">$437.90</span>
                            </div>
                            <div>
                                <span class="footer-label">저가</span>
                                <span class="footer-value" id="homeLowValue">$420.12</span>
                            </div>
                            <div>
                                <span class="footer-label">거래량</span>
                                <span class="footer-value" id="homeVolumeValue">132.4K</span>
                            </div>
                            <div>
                                <span class="footer-label">시장 시그널</span>
                                <span class="footer-chip positive">상승</span>
                            </div>
                        </div>
                    </div>

                    <aside class="home-order-card">
                        <div class="order-header">
                            <h3>빠른 예측 등록</h3>
                            <span>분석 모델 기반 추천 값</span>
                        </div>
                        <div class="order-form">
                            <label class="order-label" for="assetSelect">자산 선택</label>
                            <select id="assetSelect" class="order-input">
                                <option value="BTC" selected>BTC / USD</option>
                                <option value="ETH">ETH / USD</option>
                                <option value="KOSPI">KOSPI 200</option>
                                <option value="AAPL">AAPL</option>
                            </select>

                            <label class="order-label">방향 선택</label>
                            <div class="direction-toggle" role="group">
                                <button class="direction-btn active" data-direction="up">
                                    <i class="fas fa-arrow-trend-up"></i>
                                    상승
                                </button>
                                <button class="direction-btn" data-direction="down">
                                    <i class="fas fa-arrow-trend-down"></i>
                                    하락
                                </button>
                            </div>

                            <label class="order-label" for="targetPrice">목표 가격</label>
                            <div class="order-input-group">
                                <span>₩</span>
                                <input id="targetPrice" class="order-input" type="number" placeholder="43,500,000">
                            </div>

                            <label class="order-label" for="holdingPeriod">예측 기간</label>
                            <select id="holdingPeriod" class="order-input">
                                <option value="1D">1일</option>
                                <option value="3D">3일</option>
                                <option value="1W" selected>1주일</option>
                                <option value="1M">1개월</option>
                            </select>

                            <button class="order-submit" id="submitPrediction">
                                <i class="fas fa-meteor"></i>
                                예측 등록하기
                            </button>
                        </div>
                        <div class="order-footnote">
                            <p><i class="fas fa-shield-alt"></i> 제출된 예측은 대시보드와 랭킹에 즉시 반영됩니다.</p>
                            <p><i class="fas fa-clock"></i> 평균 검증 시간 2분 미만 · 신뢰도 지수 94%</p>
                        </div>
                    </aside>
                </div>

                <div class="home-bottom-grid">
                    <div class="home-prediction-board">
                        <div class="board-header">
                            <div>
                                <h3>예측 보드</h3>
                                <span>실시간 예측 기록과 성과</span>
                            </div>
                            <button class="board-action">전체 보기</button>
                        </div>
                        <table class="board-table">
                            <thead>
                                <tr>
                                    <th>이름</th>
                                    <th>날짜</th>
                                    <th>예측가</th>
                                    <th>기간</th>
                                    <th>수익률</th>
                                </tr>
                            </thead>
                            <tbody id="homePredictionBody">
                                <tr>
                                    <td>
                                        <div class="board-user">
                                            <span class="avatar">SR</span>
                                            <div>
                                                <span class="board-name">센슈얼러너</span>
                                                <span class="board-meta">프리미엄</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>2025-03-16</td>
                                    <td>$204,354.65</td>
                                    <td>5일</td>
                                    <td class="negative">-3.11%</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="board-user">
                                            <span class="avatar">JT</span>
                                            <div>
                                                <span class="board-name">재테크왕</span>
                                                <span class="board-meta">전략 추천</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>2025-03-16</td>
                                    <td>$212,354.65</td>
                                    <td>1일</td>
                                    <td class="positive">+8.30%</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="board-user">
                                            <span class="avatar">PM</span>
                                            <div>
                                                <span class="board-name">프라임모델</span>
                                                <span class="board-meta">챌린지 TOP10</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>2025-03-15</td>
                                    <td>$198,124.12</td>
                                    <td>1주</td>
                                    <td class="positive">+5.87%</td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="board-user">
                                            <span class="avatar">NF</span>
                                            <div>
                                                <span class="board-name">나이트플로우</span>
                                                <span class="board-meta">체험판</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>2025-03-15</td>
                                    <td>$178,764.20</td>
                                    <td>3일</td>
                                    <td class="positive">+3.42%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="home-news-card">
                        <div class="board-header">
                            <div>
                                <h3>최신 뉴스</h3>
                                <span>시장 큐레이션 핵심 이슈</span>
                            </div>
                            <button class="board-action">새로고침</button>
                        </div>
                        <ul class="news-list">
                            <li>
                                <div>
                                    <span class="news-title">미 연준, 금리 동결 시사 · 위험자산 반등</span>
                                    <span class="news-meta">10분 전 · 월가 헤드라인</span>
                                </div>
                                <span class="news-tag positive">강세</span>
                            </li>
                            <li>
                                <div>
                                    <span class="news-title">서울 반도체 업종, 기술 공급망 확대 기대감</span>
                                    <span class="news-meta">27분 전 · 국내 증시</span>
                                </div>
                                <span class="news-tag neutral">중립</span>
                            </li>
                            <li>
                                <div>
                                    <span class="news-title">비트코인 ETF 순유입 8일 연속 · 기관 매수세 지속</span>
                                    <span class="news-meta">1시간 전 · 글로벌 암호화폐</span>
                                </div>
                                <span class="news-tag positive">호재</span>
                            </li>
                            <li>
                                <div>
                                    <span class="news-title">전기차 섹터, 공급망 비용 증가로 변동성 확대</span>
                                    <span class="news-meta">2시간 전 · 산업 레이더</span>
                                </div>
                                <span class="news-tag negative">주의</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
        </section>

        <div class="home-desktop desktop-only">
        <!-- Main Content -->
    <section class="banking-header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center py-16 md:py-24">
                <h1 class="text-4xl md:text-6xl font-bold mb-6 fade-in">
                    고급 분석 기반 주식 예측으로<br>
                    <span class="bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">
                        수익률을 극대화하세요
                    </span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90 max-w-3xl mx-auto fade-in">
                    첨단 분석 알고리즘과 실시간 시장 데이터로 정확한 주식 예측을 제공합니다.
                    전문가들이 검증한 예측 시스템으로 투자 성공률을 높여보세요.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center fade-in">
                    <button class="banking-btn banking-btn-success text-lg px-8 py-4">
                        <i class="fas fa-rocket"></i>
                        무료로 시작하기
                    </button>
                    <button class="banking-btn banking-btn-secondary text-lg px-8 py-4">
                        <i class="fas fa-play"></i>
                        데모 보기
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="py-16 bg-white dark:bg-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="banking-stat-card fade-in">
                    <div class="banking-stat-value">94%</div>
                    <div class="banking-stat-label">예측 정확도</div>
                </div>
                <div class="banking-stat-card fade-in">
                    <div class="banking-stat-value">50K+</div>
                    <div class="banking-stat-label">활성 사용자</div>
                </div>
                <div class="banking-stat-card fade-in">
                    <div class="banking-stat-value">$2.5M</div>
                    <div class="banking-stat-label">누적 수익</div>
                </div>
                <div class="banking-stat-card fade-in">
                    <div class="banking-stat-value">24/7</div>
                    <div class="banking-stat-label">실시간 분석</div>
                </div>
            </div>
        </div>
    </section>

        <!-- Loading Text -->
        <div class="text-center space-y-2">
            <p class="text-tv-text-secondary" id="loadingText">플랫폼을 준비하고 있습니다...</p>
            <div class="flex justify-center space-x-1">
                <div class="w-2 h-2 bg-tv-blue rounded-full animate-bounce" style="animation-delay: 0ms"></div>
                <div class="w-2 h-2 bg-tv-blue rounded-full animate-bounce" style="animation-delay: 150ms"></div>
                <div class="w-2 h-2 bg-tv-blue rounded-full animate-bounce" style="animation-delay: 300ms"></div>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="w-80 mt-8">
            <div class="bg-tv-border rounded-full h-2 overflow-hidden">
                <div class="bg-gradient-to-r from-tv-blue to-tv-green h-full rounded-full animate-pulse"
                    id="progressBar" style="width: 0%"></div>
            </div>
            <p class="text-sm text-tv-text-secondary text-center mt-2" id="progressText">0%</p>
    <!-- Features Section -->
    <section class="py-20 bg-gray-50 dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold mb-4">
                    왜 StockChart를 선택해야 할까요?
                </h2>
                <p class="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                    전문가 수준의 투자 분석을 누구나 쉽게 이용할 수 있도록 만들었습니다.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="banking-feature-card fade-in">
                    <div class="banking-feature-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3 class="banking-feature-title">전략 기반 예측</h3>
                    <p class="banking-feature-description">
                        정교한 데이터 모델과 백테스트를 활용한 가격 예측으로 투자 리스크를 최소화합니다.
                    </p>
                </div>
                
                <div class="banking-feature-card fade-in">
                    <div class="banking-feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3 class="banking-feature-title">실시간 차트 분석</h3>
                    <p class="banking-feature-description">
                        TradingView 기반의 전문가급 차트 도구로 시장 동향을 실시간으로 분석하고 추적합니다.
                    </p>
                </div>
                
                <div class="banking-feature-card fade-in">
                    <div class="banking-feature-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <h3 class="banking-feature-title">수익률 경쟁</h3>
                    <p class="banking-feature-description">
                        다른 투자자들과 수익률을 비교하고 랭킹 시스템을 통해 실력을 검증받으세요.
                    </p>
                </div>
            </div>
        </div>
    </section>

        </div>

    <!-- JavaScript -->
    <script>
        // Initialize homepage chart if LightweightCharts is available
        (function initHomeChart() {
            const container = document.getElementById('homeChart');
            if (!container || typeof LightweightCharts === 'undefined') {
                return;
            }

            const chart = LightweightCharts.createChart(container, {
                width: container.clientWidth,
                height: 360,
                layout: {
                    background: { type: 'solid', color: '#121212' },
                    textColor: '#e5f4ff',
                    fontFamily: 'Inter, "Noto Sans KR", sans-serif'
                },
                grid: {
                    vertLines: { color: 'rgba(255, 255, 255, 0.06)' },
                    horzLines: { color: 'rgba(255, 255, 255, 0.06)' }
                },
                rightPriceScale: { borderColor: 'rgba(255, 255, 255, 0.1)' },
                timeScale: { borderColor: 'rgba(255, 255, 255, 0.1)', timeVisible: true, secondsVisible: false }
            });

            const series = chart.addCandlestickSeries({
                upColor: '#00FFA3',
                downColor: '#ff4d67',
                borderUpColor: '#00FFA3',
                borderDownColor: '#ff4d67',
                wickUpColor: '#00FFA3',
                wickDownColor: '#ff4d67'
            });

            const baseData = [
                { time: '2025-03-06', open: 42000, high: 42840, low: 41810, close: 42620 },
                { time: '2025-03-07', open: 42620, high: 43120, low: 42250, close: 42870 },
                { time: '2025-03-08', open: 42870, high: 43520, low: 42740, close: 43380 },
                { time: '2025-03-09', open: 43380, high: 43990, low: 43110, close: 43810 },
                { time: '2025-03-10', open: 43810, high: 44280, low: 43620, close: 44100 },
                { time: '2025-03-11', open: 44100, high: 44420, low: 43200, close: 43560 },
                { time: '2025-03-12', open: 43560, high: 43920, low: 43040, close: 43310 },
                { time: '2025-03-13', open: 43310, high: 43980, low: 43140, close: 43890 },
                { time: '2025-03-14', open: 43890, high: 44250, low: 43670, close: 44170 },
                { time: '2025-03-15', open: 44170, high: 44620, low: 43910, close: 44480 }
            ];

            series.setData(baseData);
            chart.timeScale().fitContent();

            window.addEventListener('resize', () => {
                chart.applyOptions({ width: container.clientWidth });
            });

            setInterval(() => {
                const lastPoint = baseData[baseData.length - 1];
                const variation = Math.random() * 320 - 120;
                const newClose = Math.max(42000, lastPoint.close + variation);
                const newPoint = {
                    time: new Date().toISOString().split('T')[0],
                    open: lastPoint.close,
                    high: Math.max(lastPoint.close, newClose) + Math.random() * 160,
                    low: Math.min(lastPoint.close, newClose) - Math.random() * 160,
                    close: newClose
                };

                baseData.push(newPoint);
                if (baseData.length > 40) {
                    baseData.shift();
                }

                series.update(newPoint);
                updateMetricSummary(newPoint);
            }, 6000);

            function updateMetricSummary(point) {
                const priceEl = document.getElementById('homeMetricPrice');
                const changeEl = document.getElementById('homeMetricChange');
                const volumeEl = document.getElementById('homeMetricVolume');
                const trendEl = document.getElementById('homeMetricTrend');
                const highEl = document.getElementById('homeHighValue');
                const lowEl = document.getElementById('homeLowValue');
                const volumeFooter = document.getElementById('homeVolumeValue');

                const previous = baseData[baseData.length - 2] || point;
                const change = point.close - previous.close;
                const changePerc = previous.close ? (change / previous.close) * 100 : 0;
                const formattedPrice = `$${point.close.toLocaleString()}`;
                const formattedChange = `${change >= 0 ? '+' : ''}${change.toFixed(2)} (${changePerc.toFixed(2)}%)`;

                if (priceEl) priceEl.textContent = formattedPrice;
                if (changeEl) {
                    changeEl.textContent = formattedChange;
                    changeEl.classList.toggle('positive', change >= 0);
                    changeEl.classList.toggle('negative', change < 0);
                }
                if (volumeEl) {
                    const mockVolume = 640 + Math.random() * 80;
                    volumeEl.textContent = `₩${mockVolume.toFixed(1)}M`;
                }
                if (trendEl) {
                    const positive = change >= 0;
                    trendEl.textContent = positive ? '강세' : '약세';
                    trendEl.classList.toggle('positive', positive);
                    trendEl.classList.toggle('negative', !positive);
                }
                if (highEl) highEl.textContent = `$${point.high.toLocaleString()}`;
                if (lowEl) lowEl.textContent = `$${point.low.toLocaleString()}`;
                if (volumeFooter) volumeFooter.textContent = `${(110 + Math.random() * 20).toFixed(1)}K`;
            }
        })();

        // Direction toggle interactions
        document.querySelectorAll('.direction-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.direction-btn').forEach(el => el.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        const submitPredictionBtn = document.getElementById('submitPrediction');
        if (submitPredictionBtn) {
            submitPredictionBtn.addEventListener('click', () => {
                submitPredictionBtn.disabled = true;
                submitPredictionBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 예측 전송 중';

                setTimeout(() => {
                    submitPredictionBtn.disabled = false;
                    submitPredictionBtn.innerHTML = '<i class="fas fa-meteor"></i> 예측 등록하기';
                    showToast('예측이 등록되었습니다. 대시보드에서 확인하세요.', 'success');
                }, 1400);
            });
        }

        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `home-toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);

            requestAnimationFrame(() => toast.classList.add('visible'));
            setTimeout(() => {
                toast.classList.remove('visible');
                setTimeout(() => toast.remove(), 300);
            }, 3200);
        }

        // Dark mode toggle (guarded for optional button)
        const html = document.documentElement;
        const darkModeToggle = document.getElementById('darkModeToggle');
        if (darkModeToggle) {
            darkModeToggle.addEventListener('click', () => {
                const enabled = html.classList.toggle('dark');
                localStorage.setItem('darkMode', enabled);
            });
        }

        const savedPreference = localStorage.getItem('darkMode');
        if (savedPreference === 'true') {
            html.classList.add('dark');
        } else if (savedPreference === 'false') {
            html.classList.remove('dark');
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
    </script>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
    <a href="/" class="mobile-nav-item active">
            <i class="fas fa-home"></i>
            <span>홈</span>
        </a>
        <a href="charts.html" class="mobile-nav-item">
            <i class="fas fa-chart-line"></i>
            <span>차트</span>
        </a>
        <a href="prediction.html" class="mobile-nav-item">
            <i class="fas fa-lightbulb"></i>
            <span>예측</span>
        </a>
        <a href="ranking.html" class="mobile-nav-item">
            <i class="fas fa-trophy"></i>
            <span>랭킹</span>
        </a>
        <a href="subscription.html" class="mobile-nav-item">
            <i class="fas fa-crown"></i>
            <span>프리미엄</span>
        </a>
    </nav>

    <!-- Collapsible Sidebar Script -->
    <script src="js/collapsible-sidebar.js"></script>
</body>
</html>